<Window x:Class="VideoEditor.Presentation.Views.UpdateDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="æ£€æŸ¥æ›´æ–°" 
        Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="{DynamicResource Brush.PanelBackground}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- æ ‡é¢˜ -->
        <Border Grid.Row="0"
                Background="{DynamicResource Brush.AccentPrimary}"
                Padding="20,16">
            <StackPanel>
                <TextBlock x:Name="TitleTextBlock"
                           Text="ðŸ” æ£€æŸ¥æ›´æ–°"
                           FontSize="20"
                           FontWeight="Bold"
                           Foreground="{DynamicResource Brush.WindowBackground}"/>
                <TextBlock x:Name="SubtitleTextBlock"
                           Text="æ­£åœ¨æ£€æŸ¥æ›´æ–°..."
                           FontSize="12"
                           Foreground="{DynamicResource Brush.ButtonLightGreen}"
                           Margin="0,4,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- å†…å®¹ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel x:Name="ContentPanel">
                <!-- åŠ è½½ä¸­ -->
                <StackPanel x:Name="LoadingPanel" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,40">
                    <TextBlock Text="â³ æ­£åœ¨æ£€æŸ¥æ›´æ–°..." 
                               FontSize="14" 
                               Foreground="{DynamicResource Brush.TextSecondary}"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,16"/>
                    <ProgressBar IsIndeterminate="True" 
                                 Height="6" 
                                 Width="300"
                                 HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- é”™è¯¯ä¿¡æ¯ -->
                <StackPanel x:Name="ErrorPanel" Visibility="Collapsed">
                    <TextBlock Text="âŒ æ£€æŸ¥æ›´æ–°å¤±è´¥" 
                               FontSize="16" 
                               FontWeight="Bold"
                               Foreground="{DynamicResource Brush.TextPrimary}"
                               Margin="0,0,0,12"/>
                    <TextBlock x:Name="ErrorMessageTextBlock"
                               TextWrapping="Wrap"
                               FontSize="13" 
                               Foreground="{DynamicResource Brush.TextSecondary}"
                               Margin="0,4"/>
                </StackPanel>

                <!-- æ›´æ–°ä¿¡æ¯ -->
                <StackPanel x:Name="UpdateInfoPanel" Visibility="Collapsed">
                    <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
                    <Border Background="{DynamicResource Brush.ButtonLightBlue}"
                            BorderBrush="{DynamicResource Brush.AccentPrimary}"
                            BorderThickness="1"
                            CornerRadius="4"
                            Padding="16"
                            Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="ðŸ“¦ ç‰ˆæœ¬ä¿¡æ¯" 
                                       FontSize="14" 
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource Brush.AccentPrimary}"
                                       Margin="0,0,0,12"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Text="å½“å‰ç‰ˆæœ¬ï¼š" 
                                           FontSize="12" 
                                           Foreground="{DynamicResource Brush.TextSecondary}"
                                           Grid.Row="0" Grid.Column="0"
                                           Margin="0,4"/>
                                <TextBlock x:Name="CurrentVersionTextBlock"
                                           Text="1.0.0" 
                                           FontSize="12" 
                                           FontWeight="Bold"
                                           Foreground="{DynamicResource Brush.TextPrimary}"
                                           Grid.Row="0" Grid.Column="1"
                                           Margin="8,4,0,4"/>
                                
                                <TextBlock Text="æœ€æ–°ç‰ˆæœ¬ï¼š" 
                                           FontSize="12" 
                                           Foreground="{DynamicResource Brush.TextSecondary}"
                                           Grid.Row="1" Grid.Column="0"
                                           Margin="0,4"/>
                                <TextBlock x:Name="LatestVersionTextBlock"
                                           Text="1.0.0" 
                                           FontSize="12" 
                                           FontWeight="Bold"
                                           Foreground="{DynamicResource Brush.AccentPrimary}"
                                           Grid.Row="1" Grid.Column="1"
                                           Margin="8,4,0,4"/>
                                
                                <TextBlock Text="å‘å¸ƒæ—¥æœŸï¼š" 
                                           FontSize="12" 
                                           Foreground="{DynamicResource Brush.TextSecondary}"
                                           Grid.Row="2" Grid.Column="0"
                                           Margin="0,4"/>
                                <TextBlock x:Name="ReleaseDateTextBlock"
                                           Text="-" 
                                           FontSize="12" 
                                           Foreground="{DynamicResource Brush.TextPrimary}"
                                           Grid.Row="2" Grid.Column="1"
                                           Margin="8,4,0,4"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- æ›´æ–°è¯´æ˜Ž -->
                    <TextBlock Text="ðŸ“ æ›´æ–°è¯´æ˜Ž" 
                               FontSize="16" 
                               FontWeight="Bold"
                               Foreground="{DynamicResource Brush.TextPrimary}"
                               Margin="0,0,0,8"/>
                    <Border Background="{DynamicResource Brush.PanelAltBackground}"
                            BorderBrush="{DynamicResource Brush.PanelBorder}"
                            BorderThickness="1"
                            CornerRadius="4"
                            Padding="12"
                            MaxHeight="200">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="ReleaseNotesTextBlock"
                                       TextWrapping="Wrap"
                                       FontSize="12" 
                                       Foreground="{DynamicResource Brush.TextSecondary}"
                                       Text="æ— æ›´æ–°è¯´æ˜Ž"/>
                        </ScrollViewer>
                    </Border>
                </StackPanel>

                <!-- å·²æ˜¯æœ€æ–°ç‰ˆæœ¬ -->
                <StackPanel x:Name="UpToDatePanel" Visibility="Collapsed" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,40">
                    <TextBlock Text="âœ…" 
                               FontSize="48" 
                               HorizontalAlignment="Center"
                               Margin="0,0,0,16"/>
                    <TextBlock Text="æ‚¨ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼" 
                               FontSize="16" 
                               FontWeight="Bold"
                               Foreground="{DynamicResource Brush.TextPrimary}"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,8"/>
                    <TextBlock x:Name="CurrentVersionDisplayTextBlock"
                               Text="å½“å‰ç‰ˆæœ¬ï¼š1.0.0" 
                               FontSize="13" 
                               Foreground="{DynamicResource Brush.TextSecondary}"
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
        
        <!-- åº•éƒ¨æŒ‰é’® -->
        <Border Grid.Row="2"
                Background="{DynamicResource Brush.PanelAltBackground}"
                BorderBrush="{DynamicResource Brush.PanelBorder}"
                BorderThickness="0,1,0,0"
                Padding="20,16">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="DownloadButton"
                        Content="å‰å¾€ä¸‹è½½" 
                        Width="120" 
                        Height="36" 
                        Click="DownloadButton_Click"
                        FontSize="14" 
                        Style="{DynamicResource ButtonPrimaryStyle}"
                        Cursor="Hand" 
                        Margin="0,0,12,0"
                        Visibility="Collapsed"/>
                <Button Content="å…³é—­" 
                        Width="100" 
                        Height="36" 
                        Click="CloseButton_Click"
                        FontSize="14" 
                        Style="{DynamicResource ButtonInfoStyle}"
                        Cursor="Hand"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>

