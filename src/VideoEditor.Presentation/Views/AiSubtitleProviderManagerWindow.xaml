<Window x:Class="VideoEditor.Presentation.Views.AiSubtitleProviderManagerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="管理字幕 AI 供应商"
        WindowStartupLocation="CenterOwner"
        SizeToContent="WidthAndHeight"
        MinWidth="760"
        MinHeight="420"
        ResizeMode="CanResize"
        Background="{DynamicResource Brush.WindowBackground}"
        Foreground="{DynamicResource Brush.TextPrimary}">
    <Border Padding="16" 
            Background="{DynamicResource Brush.PanelBackground}" 
            BorderBrush="{DynamicResource Brush.PanelBorder}" 
            BorderThickness="1">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240"/>
                <ColumnDefinition Width="12"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel>
                <TextBlock Text="供应商列表" 
                           FontWeight="Bold" 
                           Margin="0,0,0,8"
                           Foreground="{DynamicResource Brush.TextPrimary}"/>
                <ListBox x:Name="ProviderListBox"
                         Height="300"
                         DisplayMemberPath="DisplayName"
                         Background="{DynamicResource Brush.ControlBackground}"
                         Foreground="{DynamicResource Brush.TextPrimary}"
                         BorderBrush="{DynamicResource Brush.ControlBorder}"
                         SelectionChanged="ProviderListBox_SelectionChanged"/>
                <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                    <Button Content="新增" 
                            Width="70" 
                            Margin="0,0,8,0" 
                            Click="AddButton_Click"
                            Foreground="{DynamicResource Brush.TextPrimary}"
                            Style="{DynamicResource ButtonSecondaryStyle}"/>
                    <Button Content="复制" 
                            Width="70" 
                            Margin="0,0,8,0" 
                            Click="DuplicateButton_Click"
                            Foreground="{DynamicResource Brush.TextPrimary}"
                            Style="{DynamicResource ButtonSecondaryStyle}"/>
                    <Button Content="删除" 
                            Width="70" 
                            Click="DeleteButton_Click"
                            Foreground="{DynamicResource Brush.TextPrimary}"
                            Style="{DynamicResource ButtonSecondaryStyle}"/>
                </StackPanel>
            </StackPanel>

            <Border Grid.Column="2" 
                    Padding="12" 
                    Background="{DynamicResource Brush.PanelAltBackground}" 
                    CornerRadius="6"
                    BorderBrush="{DynamicResource Brush.PanelBorder}"
                    BorderThickness="1">
                <StackPanel>
                    <TextBlock Text="详细信息" 
                               FontWeight="Bold" 
                               Margin="0,0,0,12"
                               Foreground="{DynamicResource Brush.TextPrimary}"/>

                    <StackPanel Margin="0,4,0,0">
                        <TextBlock Text="显示名称" 
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Brush.TextPrimary}"/>
                        <TextBox x:Name="DisplayNameBox" 
                                 Margin="0,4,0,0" 
                                 Padding="5"
                                 Background="{DynamicResource Brush.ControlBackground}"
                                 Foreground="{DynamicResource Brush.TextPrimary}"
                                 BorderBrush="{DynamicResource Brush.ControlBorder}"/>
                    </StackPanel>

                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="Base URL" 
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Brush.TextPrimary}"/>
                        <TextBox x:Name="BaseUrlBox" 
                                 Margin="0,4,0,0" 
                                 Padding="5"
                                 Background="{DynamicResource Brush.ControlBackground}"
                                 Foreground="{DynamicResource Brush.TextPrimary}"
                                 BorderBrush="{DynamicResource Brush.ControlBorder}"/>
                    </StackPanel>

                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="Endpoint Path" 
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Brush.TextPrimary}"/>
                        <TextBox x:Name="EndpointBox" 
                                 Margin="0,4,0,0" 
                                 Padding="5"
                                 Background="{DynamicResource Brush.ControlBackground}"
                                 Foreground="{DynamicResource Brush.TextPrimary}"
                                 BorderBrush="{DynamicResource Brush.ControlBorder}"/>
                        <TextBlock Text="例如：/v1/audio/transcriptions，绝大多数 OpenAI 兼容服务沿用该路径。"
                                   FontSize="11" 
                                   Opacity="0.7" 
                                   TextWrapping="Wrap"
                                   Foreground="{DynamicResource Brush.TextSecondary}"/>
                    </StackPanel>

                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="API Key" 
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Brush.TextPrimary}"/>
                        <PasswordBox x:Name="ApiKeyBox" 
                                     Margin="0,4,0,0" 
                                     Padding="5"
                                     Background="{DynamicResource Brush.ControlBackground}"
                                     Foreground="{DynamicResource Brush.TextPrimary}"
                                     BorderBrush="{DynamicResource Brush.ControlBorder}"/>
                    </StackPanel>

                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="模型名称" 
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Brush.TextPrimary}"/>
                        <TextBox x:Name="ModelBox" 
                                 Margin="0,4,0,0" 
                                 Padding="5"
                                 Background="{DynamicResource Brush.ControlBackground}"
                                 Foreground="{DynamicResource Brush.TextPrimary}"
                                 BorderBrush="{DynamicResource Brush.ControlBorder}"/>
                    </StackPanel>

                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="输出格式 (response_format)" 
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Brush.TextPrimary}"/>
                        <ComboBox x:Name="ResponseFormatBox" 
                                  Margin="0,4,0,0" 
                                  SelectedIndex="0"
                                  Background="{DynamicResource Brush.ControlBackground}"
                                  Foreground="{DynamicResource Brush.TextPrimary}"
                                  BorderBrush="{DynamicResource Brush.ControlBorder}">
                            <ComboBoxItem Content="srt"/>
                            <ComboBoxItem Content="text"/>
                            <ComboBoxItem Content="vtt"/>
                            <ComboBoxItem Content="json"/>
                        </ComboBox>
                    </StackPanel>

                    <StackPanel Margin="0,12,0,0">
                        <TextBlock Text="备注" 
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource Brush.TextPrimary}"/>
                        <TextBox x:Name="NotesBox" 
                                 Margin="0,4,0,0" 
                                 Padding="5" 
                                 AcceptsReturn="True" 
                                 Height="60"
                                 Background="{DynamicResource Brush.ControlBackground}"
                                 Foreground="{DynamicResource Brush.TextPrimary}"
                                 BorderBrush="{DynamicResource Brush.ControlBorder}"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <StackPanel Grid.ColumnSpan="3" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="0,0,0,0" 
                        VerticalAlignment="Bottom">
                <Button Content="取消" 
                        Width="90" 
                        Margin="0,16,8,0" 
                        Click="CancelButton_Click"
                        Foreground="{DynamicResource Brush.TextPrimary}"
                        Style="{DynamicResource ButtonSecondaryStyle}"/>
                <Button Content="保存" 
                        Width="110" 
                        Margin="0,16,0,0" 
                        Click="SaveButton_Click"
                        Foreground="{DynamicResource Brush.TextPrimary}"
                        Style="{DynamicResource ButtonPrimaryStyle}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>

