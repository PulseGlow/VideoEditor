<Window x:Class="VideoEditor.Presentation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
        xmlns:converters="clr-namespace:VideoEditor.Presentation.Converters"
        mc:Ignorable="d"
        Title="è§†é¢‘ç¼–è¾‘å™¨" Height="900" Width="1440"
        WindowStartupLocation="CenterScreen"
        WindowState="Normal"
        Topmost="False"
        ShowInTaskbar="True"
        Icon="Resources/app.ico"
        Loaded="MainWindow_Loaded"
        ContentRendered="MainWindow_ContentRendered">
    
    <Window.Resources>
        <!-- å€¼è½¬æ¢å™¨ -->
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <!-- æ»‘å—é»˜è®¤æ”¯æŒç‚¹å‡»è·³è½¬ -->
        <Style TargetType="Slider" BasedOn="{StaticResource {x:Type Slider}}">
            <Setter Property="IsMoveToPointEnabled" Value="True"/>
        </Style>

        <!-- é¢„è®¾æ¯”ä¾‹æŒ‰é’®æ ·å¼ -->
        <Style x:Key="PresetRatioButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource Brush.PanelAltBackground}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource Brush.PanelBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.ListItemSelected}"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.AccentSecondary}"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <converters:InverseBooleanToVisibilityConverter x:Key="InverseBooleanToVisibilityConverter"/>
        <converters:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
        <converters:PercentageAndWidthToPositionConverter x:Key="PercentageAndWidthToPositionConverter"/>
        
        <!-- åˆ—è¡¨é¡¹æ ·å¼ -->
        <Style x:Key="VideoFileItemStyle" TargetType="ListViewItem">
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Margin" Value="1"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="{DynamicResource Brush.PanelBackground}"/>
            <Style.Triggers>
                <!-- æ­£åœ¨æ’­æ”¾çŠ¶æ€ (æœ€é«˜ä¼˜å…ˆçº§) -->
                <DataTrigger Binding="{Binding IsPlaying}" Value="True">
                    <Setter Property="Background" Value="{DynamicResource Brush.ListItemPlaying}"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource Brush.ListItemPlayingBorder}"/>
                    <Setter Property="BorderThickness" Value="2"/>
                </DataTrigger>
                <!-- é€‰ä¸­çŠ¶æ€ -->
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="{DynamicResource Brush.ListItemSelected}"/>
                </Trigger>
                <!-- é¼ æ ‡æ‚¬åœ -->
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{DynamicResource Brush.ListItemHover}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- é˜´å½±æ•ˆæžœ -->
        <DropShadowEffect x:Key="DropShadowEffect"
                          Color="Gray"
                          Direction="315"
                          ShadowDepth="2"
                          Opacity="0.3"
                          BlurRadius="4"/>

        <!-- çŽ°ä»£å¤é€‰æ¡†æ ·å¼ -->
        <Style x:Key="ModernCheckBox" TargetType="CheckBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Border x:Name="CheckBoxBorder"
                                    Width="18"
                                    Height="18"
                                    Background="{DynamicResource Brush.ControlBackground}"
                                    BorderBrush="{DynamicResource Brush.ControlBorder}"
                                    BorderThickness="1.5"
                                    CornerRadius="2"
                                    Margin="0,0,8,0">
                                <Path x:Name="CheckMark"
                                      Data="M 0,6 L 4,10 L 12,2"
                                      Stroke="{DynamicResource Brush.AccentPrimary}"
                                      StrokeThickness="2"
                                      StrokeStartLineCap="Round"
                                      StrokeEndLineCap="Round"
                                      Visibility="Collapsed"/>
                            </Border>
                            <ContentPresenter Grid.Column="1"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Left"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                <Setter TargetName="CheckBoxBorder" Property="Background" Value="{DynamicResource Brush.ListItemSelected}"/>
                                <Setter TargetName="CheckBoxBorder" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="CheckBoxBorder" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                <Setter TargetName="CheckBoxBorder" Property="Background" Value="{DynamicResource Brush.PanelAltBackground}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <ScaleTransform x:Key="PlaybackControlsScale" ScaleX="0.8" ScaleY="0.8"/>

    </Window.Resources>
    
    <DockPanel x:Name="RootDock" Background="{DynamicResource Brush.WindowBackground}">
        <!-- ==================== é¡¶éƒ¨èœå•æ  ==================== -->
        <Menu x:Name="TopMenuBar"
              DockPanel.Dock="Top"
              Background="{DynamicResource Brush.MenuBackground}"
              Foreground="{DynamicResource Brush.MenuForeground}"
              BorderBrush="{DynamicResource Brush.MenuBorder}"
              BorderThickness="0,0,0,1">
            <!-- æ–‡ä»¶èœå• -->
            <MenuItem Header="æ–‡ä»¶(_F)" FontSize="13">
                <MenuItem Header="ðŸ“‚ æ‰“å¼€æ–‡ä»¶..." InputGestureText="Ctrl+O" Click="AddFilesButton_Click"/>
                <MenuItem Header="ðŸ“ æ‰“å¼€æ–‡ä»¶å¤¹..." InputGestureText="Ctrl+Shift+O" Click="AddFolderButton_Click"/>
                <MenuItem Header="ðŸ“¦ æ‰“å¼€é¡¹ç›®æ–‡ä»¶..." InputGestureText="Ctrl+Alt+O" Click="OpenProjectMenuItem_Click"/>
                <Separator/>
                <MenuItem Header="ðŸ’¾ ä¿å­˜é¡¹ç›®..." InputGestureText="Ctrl+S" Click="SaveProjectMenuItem_Click"/>
                <MenuItem Header="ðŸ—‚ï¸ é¡¹ç›®å¦å­˜ä¸º..." InputGestureText="Ctrl+Shift+S" Click="SaveProjectAsMenuItem_Click"/>
                <Separator/>
                <MenuItem Header="ðŸ“œ å¯¼å…¥æ’­æ”¾åˆ—è¡¨..." Click="ImportDplPlaylistMenuItem_Click"/>
                <MenuItem Header="ðŸ“¤ å¯¼å‡ºæ’­æ”¾åˆ—è¡¨..." Click="ExportDplPlaylistMenuItem_Click"/>
                <Separator/>
                <MenuItem Header="ðŸ§¾ æœ€è¿‘æ‰“å¼€"
                          ItemsSource="{Binding RecentProjects}">
                    <MenuItem.ItemContainerStyle>
                        <Style TargetType="MenuItem">
                            <Setter Property="Header" Value="{Binding DisplayName}"/>
                            <Setter Property="ToolTip" Value="{Binding Tooltip}"/>
                            <Setter Property="InputGestureText" Value="{Binding ShortcutHint}"/>
                            <Setter Property="IsEnabled" Value="{Binding IsEnabled}"/>
                            <EventSetter Event="Click" Handler="RecentProjectMenuItem_Click"/>
                        </Style>
                    </MenuItem.ItemContainerStyle>
                </MenuItem>
                <Separator/>
                <MenuItem Header="âŒ é€€å‡º" InputGestureText="Alt+F4" Click="ExitMenuItem_Click"/>
            </MenuItem>
            
            <!-- è§†å›¾èœå• -->
            <MenuItem Header="è§†å›¾(_V)" FontSize="13">
                <MenuItem Header="ðŸ§­ ç•Œé¢æ¨¡å¼    â†’">
                    <MenuItem Header="ðŸŽ¬ æ’­æ”¾å™¨æ¨¡å¼ï¼ˆæ”¶èµ·ï¼‰"
                              IsCheckable="True"
                              IsChecked="{Binding IsPlayerInterfaceMode, Mode=OneWay}"
                              Click="ViewMode_PlayerOnlyMenuItem_Click"
                              InputGestureText="Ctrl+1"/>
                    <MenuItem Header="âœ‚ï¸ å‰ªè¾‘æ¨¡å¼ï¼ˆå±•å¼€ï¼‰"
                              IsCheckable="True"
                              IsChecked="{Binding IsEditorInterfaceMode, Mode=OneWay}"
                              Click="ViewMode_EditorMenuItem_Click"
                              InputGestureText="Ctrl+2"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="ðŸ“ å¸ƒå±€           â†’" IsEnabled="{Binding IsEditorInterfaceMode}">
                    <MenuItem x:Name="MenuLayoutStandard" Header="âœ… æ ‡å‡†å¸ƒå±€ï¼ˆ6 åŒºåŸŸï¼‰" IsCheckable="True" IsChecked="True" Click="MenuLayoutStandard_Click"/>
                    <MenuItem x:Name="MenuLayoutCompact" Header="ðŸŽžï¸ ç²¾ç®€å¸ƒå±€ï¼ˆ4 åŒºåŸŸï¼‰" IsCheckable="True" Click="MenuLayoutCompact_Click"/>
                    <MenuItem x:Name="MenuLayoutReset" Header="ðŸ” æ¢å¤é»˜è®¤å¸ƒå±€" Click="MenuLayoutReset_Click"/>
                </MenuItem>
                <MenuItem Header="ðŸŒ“ ä¸»é¢˜           â†’">
                    <MenuItem x:Name="MenuThemeLight" Header="ðŸŒž äº®è‰²ä¸»é¢˜" IsCheckable="True" IsChecked="False" Click="MenuThemeLight_Click"/>
                    <MenuItem x:Name="MenuThemeDark" Header="ðŸŒ™ æš—è‰²ä¸»é¢˜" IsCheckable="True" IsChecked="True" Click="MenuThemeDark_Click"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="â›¶ å…¨å±æ’­æ”¾å™¨" InputGestureText="F11" Click="MenuFullScreenPlayer_Click"/>
            </MenuItem>
            
            <!-- å·¥å…·èœå• -->
            <MenuItem Header="å·¥å…·(_T)" FontSize="13">
                <MenuItem Header="ðŸ§° åª’ä½“ä¿¡æ¯ä½“æ£€..." InputGestureText="Ctrl+Shift+I" Click="MediaInfoAnalyzerMenuItem_Click"/>
                <Separator/>
                <MenuItem Header="ðŸŽ¥ å±å¹•å½•åˆ¶">
                    <MenuItem x:Name="MenuScreenRecordFull"
                              Header="ðŸ–¥ï¸ å…¨å±å½•åˆ¶"
                              InputGestureText="Ctrl+Shift+R"
                              Click="ScreenRecorderFullMenuItem_Click"/>
                    <MenuItem x:Name="MenuScreenRecordRegion"
                              Header="ðŸ”² åŒºåŸŸå½•åˆ¶"
                              InputGestureText="Ctrl+Shift+Alt+R"
                              Click="ScreenRecorderRegionMenuItem_Click"/>
                    <Separator/>
                    <MenuItem Header="ðŸŽšï¸ é…ç½®éŸ³é¢‘è®¾å¤‡..." Click="ConfigureScreenRecorderAudioMenuItem_Click"/>
                </MenuItem>
                <MenuItem Header="ðŸ¤– AI å·¥å…·">
                    <MenuItem Header="ðŸ…± ä½¿ç”¨ B æŽ¥å£ç”Ÿæˆå­—å¹•" Click="BcutAsrMenuItem_Click"/>
                    <MenuItem Header="ðŸ…¹ ä½¿ç”¨ J æŽ¥å£ç”Ÿæˆå­—å¹•" Click="JianYingAsrMenuItem_Click"/>
                    <MenuItem Header="âš¡ ä½¿ç”¨ Faster Whisper (æœ¬åœ°) ç”Ÿæˆå­—å¹•" Click="FasterWhisperAsrMenuItem_Click"/>
                    <MenuItem Header="ðŸ§© é…ç½® Faster Whisper..." Click="ConfigureFasterWhisperMenuItem_Click"/>
                    <Separator/>
                    <MenuItem Header="ðŸ“ ç”Ÿæˆè§†é¢‘å­—å¹•" Click="AiSubtitleGeneratorMenuItem_Click"/>
                    <MenuItem Header="âš™ï¸ ç®¡ç†å­—å¹• AI ä¾›åº”å•†..." Click="ManageAiProvidersMenuItem_Click"/>
                    <Separator/>
                    <MenuItem Header="ðŸŽ¯ å­—å¹•é€‰é¡¹..." Click="AiSubtitleOptionsMenuItem_Click"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="ðŸ“ æ‰“å¼€å‘½ä»¤é¢„è§ˆçª—å£" InputGestureText="Ctrl+P" Click="OpenCommandPromptMenuItem_Click"/>
                <MenuItem Header="ðŸ“˜ æ‰“å¼€æ‰§è¡Œæ—¥å¿—çª—å£" InputGestureText="Ctrl+L" Click="OpenLogWindowMenuItem_Click"/>
                <Separator/>
                <MenuItem Header="ðŸ› ï¸ FFmpeg é…ç½®..." Click="FFmpegConfigMenuItem_Click"/>
                <MenuItem Header="ðŸ§¹ æ¸…ç†æ—¥å¿—ä¸Žç¼“å­˜" Click="ClearLogsAndCacheMenuItem_Click"/>
            </MenuItem>
            
            <!-- å¸®åŠ©èœå• -->
            <MenuItem Header="å¸®åŠ©(_H)" FontSize="13">
                <MenuItem Header="ðŸ“– ä½¿ç”¨æ–‡æ¡£" InputGestureText="F1" Click="ShowHelpDocumentMenuItem_Click"/>
                <MenuItem Header="âŒ¨ï¸ å¿«æ·é”®åˆ—è¡¨" InputGestureText="Ctrl+?" Click="ShowShortcutHelpMenuItem_Click"/>
                <Separator/>
                <MenuItem Header="ðŸ” æ£€æŸ¥æ›´æ–°" Click="CheckUpdateMenuItem_Click"/>
                <MenuItem Header="â„¹ï¸ å…³äºŽ..." InputGestureText="F12" Click="AboutMenuItem_Click"/>
            </MenuItem>
        </Menu>
        
        <!-- ä¸»ç•Œé¢å®¹å™¨ -->
        <Grid DockPanel.Dock="Top">
            <Grid.RowDefinitions>
                <RowDefinition x:Name="MainContentRow" Height="*"/>
                <RowDefinition x:Name="BottomStatusRow" Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- 6 åŒºåŸŸä¸»å¸ƒå±€ -->
            <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Name="LeftColumn" Width="280"/>     <!-- å·¦ä¾§åˆ— -->
                <ColumnDefinition x:Name="LeftSplitter" Width="5"/>       <!-- åˆ†éš”æ¡1 -->
                <ColumnDefinition Width="*"/>       <!-- ä¸­é—´åˆ— -->
                <ColumnDefinition x:Name="RightSplitter" Width="5"/>       <!-- åˆ†éš”æ¡2 -->
                <ColumnDefinition x:Name="RightColumn" Width="280"/>     <!-- å³ä¾§åˆ— -->
            </Grid.ColumnDefinitions>
            
            <!-- ==================== å·¦ä¾§åˆ—ï¼ˆä¸¤éƒ¨åˆ†åˆ†å‰²ï¼‰==================== -->
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition x:Name="PlaylistRow" Height="1*" MinHeight="250"/>    <!-- å·¦ä¸Šï¼šæ–‡ä»¶åˆ—è¡¨ -->
                    <RowDefinition x:Name="PlaylistSplitterRow" Height="5"/>                      <!-- åˆ†éš”ç¬¦ -->
                    <RowDefinition x:Name="ClipDetailRow" Height="1*" MinHeight="250"/>    <!-- å·¦ä¸‹ï¼šç‰‡æ®µç®¡ç† -->
                </Grid.RowDefinitions>
                
                <!-- å·¦ä¸Šï¼šæ–‡ä»¶åˆ—è¡¨ -->
                <Border x:Name="PlaylistPanel"
                        Grid.Row="0"
                        Background="{DynamicResource Brush.PanelBackground}"
                        BorderBrush="{DynamicResource Brush.PanelBorder}"
                        BorderThickness="1">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                        
                        <Border Grid.Row="0"
                                Background="{DynamicResource Brush.SectionBackground}"
                                BorderBrush="{DynamicResource Brush.PanelBorder}"
                                BorderThickness="0,0,0,1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0"
                                           Text="ðŸ“ æ–‡ä»¶åˆ—è¡¨"
                                           FontWeight="Bold"
                                           Padding="10,8"
                                           FontSize="14"
                                           Foreground="{DynamicResource Brush.TextPrimary}"/>
                                <TextBlock Grid.Column="1"
                                           Padding="10,8"
                                           FontSize="11"
                                           Foreground="{DynamicResource Brush.TextSecondary}">
                                    <Run Text="æ–‡ä»¶: "/>
                                    <Run Text="{Binding VideoListViewModel.FileCount, Mode=OneWay}"/>
                                    <Run Text=" | é€‰ä¸­: "/>
                                    <Run Text="{Binding VideoListViewModel.SelectedFileCount, Mode=OneWay}"/>
                                </TextBlock>
                                    </Grid>
                        </Border>
                        
                        <Grid Grid.Row="1">
                            <ListView Name="VideoFileListBox"
                                      ItemsSource="{Binding VideoListViewModel.Files}"
                                      SelectedItem="{Binding VideoListViewModel.SelectedFile, Mode=TwoWay}"
                                      SelectionChanged="VideoFileListBox_SelectionChanged"
                                      ItemContainerStyle="{StaticResource VideoFileItemStyle}"
                                      AllowDrop="True"
                                      Drop="VideoFileListBox_Drop"
                                      DragOver="VideoFileListBox_DragOver"
                                      Background="{DynamicResource Brush.PanelBackground}"
                                      MouseLeftButtonDown="VideoFileListBox_MouseLeftButtonDown"
                                      MouseMove="VideoFileListBox_MouseMove"
                                      MouseLeftButtonUp="VideoFileListBox_MouseLeftButtonUp"
                                      MouseDoubleClick="VideoFileListBox_MouseDoubleClick">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="" Width="30">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <CheckBox IsChecked="{Binding IsSelected}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Header="æ–‡ä»¶å" Width="240">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding FileName}" TextTrimming="CharacterEllipsis"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                                <ListView.ContextMenu>
                            <ContextMenu>
                                        <MenuItem Header="æ·»åŠ æ–‡ä»¶..." Click="AddFilesButton_Click"/>
                                        <MenuItem Header="æ·»åŠ æ–‡ä»¶å¤¹..." Click="AddFolderButton_Click"/>
                                <Separator/>
                                        <MenuItem Header="å…¨é€‰" Click="SelectAllButton_Click"/>
                                        <MenuItem Header="å–æ¶ˆå…¨é€‰" Click="DeselectAllButton_Click"/>
                                        <MenuItem Header="åé€‰ (Ctrl+Shift+A)" Click="ContextMenu_InvertSelection_Click"/>
                                <Separator/>
                                        <MenuItem Header="æ’­æ”¾" Click="ContextMenu_Play_Click"/>
                                        <MenuItem Header="å®šä½åˆ°æ­£åœ¨æ’­æ”¾ ðŸŽ¯ (Ctrl+Shift+L)" Click="ContextMenu_LocateCurrentPlaying_Click"/>
                                        <MenuItem Header="åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ˜¾ç¤º" Click="ContextMenu_ShowInExplorer_Click"/>
                                <Separator/>
                                        <MenuItem Header="ä¸Šç§» â†‘" Click="ContextMenu_MoveUp_Click"/>
                                        <MenuItem Header="ä¸‹ç§» â†“" Click="ContextMenu_MoveDown_Click"/>
                                <Separator/>
                                        <MenuItem Header="æŽ’åº â–¶">
                                            <MenuItem Header="æŒ‰æ–‡ä»¶å (Aâ†’Z)" Click="ContextMenu_SortByNameAsc_Click"/>
                                            <MenuItem Header="æŒ‰æ–‡ä»¶å (Zâ†’A)" Click="ContextMenu_SortByNameDesc_Click"/>
                                            <Separator/>
                                            <MenuItem Header="æŒ‰æ–‡ä»¶å¤§å° (å¤§â†’å°)" Click="ContextMenu_SortBySizeDesc_Click"/>
                                            <MenuItem Header="æŒ‰æ–‡ä»¶å¤§å° (å°â†’å¤§)" Click="ContextMenu_SortBySizeAsc_Click"/>
                                            <Separator/>
                                            <MenuItem Header="æŒ‰æ—¶é•¿ (é•¿â†’çŸ­)" Click="ContextMenu_SortByDurationDesc_Click"/>
                                            <MenuItem Header="æŒ‰æ—¶é•¿ (çŸ­â†’é•¿)" Click="ContextMenu_SortByDurationAsc_Click"/>
                                        </MenuItem>
                                <Separator/>
                                        <MenuItem Header="åˆ é™¤" Click="ContextMenu_Remove_Click"/>
                                        <MenuItem Header="æ¸…ç©ºåˆ—è¡¨" Click="ClearAllButton_Click"/>
                            </ContextMenu>
                                </ListView.ContextMenu>
                            </ListView>
                            
                            <!-- é€‰æ‹©æ¡†è¦†ç›–å±‚ -->
                            <Canvas Name="SelectionCanvas" Background="Transparent" IsHitTestVisible="False">
                                <Rectangle Name="SelectionRectangle" 
                                           Fill="{DynamicResource Brush.ButtonSuccess}" 
                                           Opacity="0.3" 
                                           Stroke="{DynamicResource Brush.ButtonSuccess}" 
                                           StrokeThickness="1" 
                                           Visibility="Collapsed"/>
                            </Canvas>
                                    </Grid>
                </Grid>
            </Border>
            
                <!-- åˆ†éš”ç¬¦ï¼šæ–‡ä»¶åˆ—è¡¨ä¸Žç‰‡æ®µç®¡ç†ä¹‹é—´ -->
                <GridSplitter Grid.Row="1" HorizontalAlignment="Stretch" Background="{DynamicResource Brush.SplitterBackground}" Height="5"/>
                
                <!-- å·¦ä¸‹ï¼šæ–‡ä»¶ä¿¡æ¯ -->
                <Border Grid.Row="2"
                        Background="{DynamicResource Brush.PanelAltBackground}"
                        BorderBrush="{DynamicResource Brush.PanelBorder}"
                        BorderThickness="1,0,1,1">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                        <StackPanel DataContext="{Binding VideoListViewModel.SelectedFile}">
                            <StackPanel.Resources>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
                                </Style>
                            </StackPanel.Resources>
                            <TextBlock Text="â„¹ï¸ å½“å‰é€‰ä¸­æ–‡ä»¶è¯¦æƒ…"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       Margin="0,0,0,16"
                                       Foreground="{DynamicResource Brush.TextPrimary}"
                                       HorizontalAlignment="Center"/>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0"
                                           Text="æ–‡ä»¶å:"
                                           FontWeight="Bold"
                                           FontSize="11"
                                           Foreground="{DynamicResource Brush.TextSecondary}"/>
                                <TextBlock Grid.Column="1"
                                           Text="{Binding FileName}"
                                           TextWrapping="Wrap"
                                           FontSize="11"
                                           Foreground="{DynamicResource Brush.TextPrimary}"/>
                            </Grid>

                            <Separator Margin="0,8"/>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="æ—¶é•¿:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding FormattedDuration}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="åˆ†è¾¨çŽ‡:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding Resolution}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="å¸§çŽ‡:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding FrameRate}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="æ–‡ä»¶å¤§å°:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding FormattedFileSize}" FontSize="11"/>
                            </Grid>

                            <Separator Margin="0,8"/>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="è§†é¢‘ç¼–ç :" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding VideoCodec}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="è§†é¢‘ç çŽ‡:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding VideoBitrate}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="éŸ³é¢‘ç¼–ç :" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding AudioCodec}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="éŸ³é¢‘ç çŽ‡:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding AudioBitrate}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="éŸ³é¢‘é€šé“:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding AudioChannels}" FontSize="11"/>
                            </Grid>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="é‡‡æ ·çŽ‡:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding FormattedSampleRate}" FontSize="11"/>
                            </Grid>

                            <Separator Margin="0,8"/>

                            <Grid Margin="0,6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="æ–‡ä»¶è·¯å¾„:" FontWeight="Bold" FontSize="11"/>
                                <TextBlock Grid.Column="1" Text="{Binding FilePath}" TextWrapping="Wrap" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}"/>
                            </Grid>
                        </StackPanel>
                    </ScrollViewer>
                </Border>
                        </Grid>
            
            <!-- åˆ†éš”æ¡1 -->
            <GridSplitter Grid.Column="1" HorizontalAlignment="Stretch" Background="{DynamicResource Brush.SplitterBackground}"/>
            
            <!-- ==================== ä¸­é—´åˆ—ï¼ˆä¸Šä¸‹åˆ†å‰²ï¼‰==================== -->
            <Grid x:Name="MiddleColumn" Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition x:Name="PlayerAreaRow" Height="Auto"/>    <!-- ä¸­ä¸Šï¼š16:9 è§†é¢‘æ’­æ”¾å™¨ + æ’­æ”¾æŽ§åˆ¶ï¼ˆæ ¹æ®å®½åº¦è‡ªåŠ¨è®¡ç®—é«˜åº¦ï¼‰ -->
                    <RowDefinition x:Name="MiddleSplitter" Height="5"/>       <!-- åˆ†éš”æ¡ -->
                    <RowDefinition x:Name="BottomRow" Height="*"/>       <!-- ä¸­ä¸‹ï¼šå‰ªè¾‘é€‰é¡¹é¡µï¼ˆå‰©ä½™ç©ºé—´ï¼‰ -->
                </Grid.RowDefinitions>
                
                <!-- ä¸­ä¸Šï¼šè§†é¢‘æ’­æ”¾å™¨åŒºåŸŸ -->
                <Grid x:Name="PlayerAreaGrid" Grid.Row="0" Background="{DynamicResource Brush.PlayerBackground}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>  <!-- 16:9 è§†é¢‘æ˜¾ç¤ºåŒºåŸŸ -->
                        <RowDefinition Height="Auto"/>  <!-- æ’­æ”¾æŽ§åˆ¶æ  -->
                    </Grid.RowDefinitions>
                    
                    <!-- 16:9 è§†é¢‘æ˜¾ç¤ºåŒºåŸŸ -->
                    <!-- ä½¿ç”¨ Viewbox ä¿æŒ 16:9 æ¯”ä¾‹ -->
                    <Viewbox Grid.Row="0" Stretch="Uniform"
                             AllowDrop="True"
                             DragOver="VideoPlayerArea_DragOver"
                             Drop="VideoPlayerArea_Drop">
                        <Grid Name="PlayerContainer" Width="1920" Height="1080" Background="{DynamicResource Brush.PlayerBackground}">
                            <!-- å›¾ç‰‡é¢„è§ˆå®¹å™¨ -->
                            <Grid Name="ImagePreviewContainer" Background="{DynamicResource Brush.PlayerBackground}"
                                  Visibility="{Binding IsImageMode, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <Image Name="ImagePreview" 
                                       Stretch="Uniform" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"
                                       MaxWidth="1920" 
                                       MaxHeight="1080"/>
                                <TextBlock Name="ImagePlaceholderText" 
                                           Text="ðŸ–¼ï¸ å›¾ç‰‡é¢„è§ˆ" 
                                           FontSize="48" 
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center"
                                           Foreground="{DynamicResource Brush.TextSecondary}"
                                           Visibility="Visible"/>
                            </Grid>
                            
                            <!-- æ’­æ”¾å™¨é¢æ¿ -->
                            <Grid Name="VideoPlayerContainer" Background="{DynamicResource Brush.PlayerBackground}"
                                  Visibility="{Binding IsPlayerMode, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <!-- ç©ºé—²çŠ¶æ€å ä½ç¬¦ - å½“æ²¡æœ‰è§†é¢‘æ—¶æ˜¾ç¤º -->
                            <Border Name="VideoPlaceholder"
                                    Width="1920" Height="1080"
                                    Background="{DynamicResource Brush.PlayerBackground}"
                                    Panel.ZIndex="0"
                                    Opacity="{Binding VideoPlayerViewModel.PlaceholderOpacity}"
                                    Visibility="{Binding VideoPlayerViewModel.HasVideoLoaded, Converter={StaticResource InverseBooleanToVisibilityConverter}, FallbackValue=Visible}">
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" MaxWidth="1600">
                                    <!-- æ’­æ”¾å›¾æ ‡ ðŸŽ¬ -->
                                    <TextBlock Text="ðŸŽ¬" 
                                             FontSize="180" 
                                             HorizontalAlignment="Center" 
                                             Foreground="{DynamicResource Brush.TextSecondary}" 
                                             Margin="0,0,0,40"/>
                                    <!-- æ ‡é¢˜æ–‡å­— -->
                                    <TextBlock Text="è§†é¢‘ç¼–è¾‘å™¨" 
                                             FontSize="48" 
                                             HorizontalAlignment="Center" 
                                             Foreground="{DynamicResource Brush.TextMuted}" 
                                             Margin="0,0,0,24" 
                                             FontWeight="Bold"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- VLC VideoView æŽ§ä»¶ - ZIndex=1 -->
                            <vlc:VideoView x:Name="VideoView"
                                           Panel.ZIndex="1"
                                           Background="{DynamicResource Brush.PlayerBackground}"
                                           MediaPlayer="{Binding VideoPlayerViewModel.MediaPlayer}"
                                           Visibility="{Binding VideoPlayerViewModel.IsVideoViewVisible, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <vlc:VideoView.RenderTransform>
                                    <TranslateTransform X="{Binding VideoPlayerViewModel.VideoViewOffsetX}" 
                                                         Y="{Binding VideoPlayerViewModel.VideoViewOffsetY}"/>
                                </vlc:VideoView.RenderTransform>
                            </vlc:VideoView>
                            
                            <!-- é»‘è‰²é®ç½©å±‚ - åœæ­¢æ—¶æ˜¾ç¤º -->
                            <Border Panel.ZIndex="3"
                                    Background="{DynamicResource Brush.PlayerBackground}"
                                    IsHitTestVisible="False">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <!-- å½“æœ‰è§†é¢‘ä½†æœªæ’­æ”¾ä¸”æœªæš‚åœæ—¶æ˜¾ç¤º(å³åœæ­¢çŠ¶æ€) -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding VideoPlayerViewModel.HasVideo}" Value="True"/>
                                                    <Condition Binding="{Binding VideoPlayerViewModel.IsPlaying}" Value="False"/>
                                                    <Condition Binding="{Binding VideoPlayerViewModel.IsPaused}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>
                            
                            <!-- Popupå­—å¹•é¢„è§ˆå±‚ - ä½¿ç”¨Popupç¡®ä¿åœ¨VLCä¹‹ä¸Šæ˜¾ç¤º -->
                            <Popup Name="SubtitlePreviewPopup"
                                   Placement="Absolute"
                                   AllowsTransparency="True"
                                   PopupAnimation="None"
                                   IsOpen="False"
                                   StaysOpen="True"
                                   HorizontalOffset="0"
                                   VerticalOffset="0">
                                <Grid Name="SubtitlePreviewLayer" 
                                      Width="1920"
                                      Height="1080"
                                      Background="Transparent"
                                      IsHitTestVisible="False">
                                    <TextBlock Name="SubtitlePreviewText"
                                               Text=""
                                               FontFamily="å¾®è½¯é›…é»‘"
                                               FontSize="24"
                                               Foreground="{DynamicResource Brush.TextPrimary}"
                                               TextAlignment="Center"
                                               TextWrapping="Wrap"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Bottom"
                                               Margin="0,0,0,80"
                                               Padding="12,8"
                                               Background="Transparent"
                                               MaxWidth="1600">
                                        <TextBlock.Effect>
                                            <DropShadowEffect Color="Black" 
                                                              Direction="315" 
                                                              ShadowDepth="2" 
                                                              BlurRadius="4" 
                                                              Opacity="0.8"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                            </Popup>
                            
                            <!-- Popupè£å‰ªæ¡† - ç¡®ä¿åœ¨è§†é¢‘ä¹‹ä¸Š -->
                            <Popup Name="CropOverlayPopup"
                                   Placement="Absolute"
                                   AllowsTransparency="True"
                                   PopupAnimation="None"
                                   IsOpen="False"
                                   StaysOpen="True"
                                   HorizontalOffset="0"
                                   VerticalOffset="0">
                                <Canvas Name="PopupCropCanvas"
                                        Width="1920"
                                        Height="1080"
                                        Background="Transparent">

                                    <!-- åŠé€æ˜Žé®ç½© -->
                                    <Path Name="PopupCropMask"
                                          Fill="{DynamicResource Brush.CropMaskBackground}"
                                          Stroke="Transparent"/>

                                    <!-- è£å‰ªæ¡† -->
                                    <Border Name="PopupCropSelector"
                                            BorderBrush="{DynamicResource Brush.CropBorder}"
                                            BorderThickness="2"
                                            Background="{DynamicResource Brush.CropBackground}"
                                            Width="1200"
                                            Height="700"
                                            Cursor="SizeAll"
                                            MouseLeftButtonDown="CropSelector_MouseLeftButtonDown"
                                            MouseMove="CropSelector_MouseMove"
                                            MouseLeftButtonUp="CropSelector_MouseLeftButtonUp">

                                        <!-- å³é”®èœå• -->
                                        <Border.ContextMenu>
                                            <ContextMenu>
                                                <MenuItem Header="âœ… åº”ç”¨è£å‰ª (Enter)" Click="CropApplyMenuItem_Click"/>
                                                <MenuItem Header="ðŸ”„ é‡ç½®åˆ°ä¸­å¿ƒ" Click="CropResetMenuItem_Click"/>
                                                <Separator/>
                                                <MenuItem Header="âŒ å–æ¶ˆ (Esc)" Click="CropCancelMenuItem_Click"/>
                                            </ContextMenu>
                                        </Border.ContextMenu>

                                        <Grid>
                                            <!-- ä¹å®«æ ¼è¾…åŠ©çº¿ -->
                                            <Grid Name="PopupCropGridLines" Opacity="0.5">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition/><RowDefinition/><RowDefinition/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition/><ColumnDefinition/><ColumnDefinition/>
                                                </Grid.ColumnDefinitions>
                                                <Line Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3" X1="0" Y1="0" X2="1" Y2="0" Stroke="{DynamicResource Brush.CropGridLine}" StrokeThickness="1" Stretch="Fill" VerticalAlignment="Bottom"/>
                                                <Line Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" X1="0" Y1="0" X2="1" Y2="0" Stroke="{DynamicResource Brush.CropGridLine}" StrokeThickness="1" Stretch="Fill" VerticalAlignment="Bottom"/>
                                                <Line Grid.Row="0" Grid.Column="0" Grid.RowSpan="3" X1="0" Y1="0" X2="0" Y2="1" Stroke="{DynamicResource Brush.CropGridLine}" StrokeThickness="1" Stretch="Fill" HorizontalAlignment="Right"/>
                                                <Line Grid.Row="0" Grid.Column="1" Grid.RowSpan="3" X1="0" Y1="0" X2="0" Y2="1" Stroke="{DynamicResource Brush.CropGridLine}" StrokeThickness="1" Stretch="Fill" HorizontalAlignment="Right"/>
                                            </Grid>

                                            <!-- 8ä¸ªæ‹–æ‹½ç‚¹ -->
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Left" VerticalAlignment="Top" Margin="-6,-6,0,0"
                                                     Cursor="SizeNWSE" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="TopLeft"/>
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,-6,0,0"
                                                     Cursor="SizeNS" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="Top"/>
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-6,-6,0"
                                                     Cursor="SizeNESW" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="TopRight"/>
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Left" VerticalAlignment="Center" Margin="-6,0,0,0"
                                                     Cursor="SizeWE" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="Left"/>
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-6,0"
                                                     Cursor="SizeWE" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="Right"/>
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="-6,0,0,-6"
                                                     Cursor="SizeNESW" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="BottomLeft"/>
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,-6"
                                                     Cursor="SizeNS" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="Bottom"/>
                                            <Ellipse Width="12" Height="12" Fill="{DynamicResource Brush.CropHandleFill}" Stroke="{DynamicResource Brush.CropHandleStroke}" StrokeThickness="2"
                                                     HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,-6,-6"
                                                     Cursor="SizeNWSE" MouseLeftButtonDown="CropHandle_MouseLeftButtonDown" Tag="BottomRight"/>

                                            <!-- å°ºå¯¸æ˜¾ç¤º - æ”¾åœ¨è£å‰ªæ¡†å†…éƒ¨å·¦ä¸Šè§’ -->
                                            <Border Background="{DynamicResource Brush.CropSizeBackground}" BorderBrush="{DynamicResource Brush.CropSizeBorder}" BorderThickness="1"
                                                    CornerRadius="3" Padding="6,2"
                                                    HorizontalAlignment="Left" VerticalAlignment="Top"
                                                    Margin="8,8,0,0"
                                                    Panel.ZIndex="10">
                                                <TextBlock Name="PopupCropSizeText"
                                                           Text="1200 Ã— 700 (1.71:1)"
                                                           FontSize="28"
                                                           FontFamily="Consolas"
                                                           FontWeight="Bold"
                                                           Foreground="{DynamicResource Brush.CropSizeForeground}"/>
                                            </Border>
                                        </Grid>
                                    </Border>
                                </Canvas>
                            </Popup>
                            </Grid>

                            <!-- FFmpegå‘½ä»¤æç¤ºç¬¦é¢æ¿ -->
                            <Grid Name="CommandPromptContainer" Background="{DynamicResource Brush.CommandPromptBackground}"
                                  Visibility="{Binding IsCommandPromptMode, Converter={StaticResource BooleanToVisibilityConverter}}">
                                <Grid.Resources>
                                    <!-- ç§»é™¤éšå¼æ ·å¼ï¼Œé¿å…è¦†ç›– Style="{x:Null}" çš„è®¾ç½® -->
                                    <!-- æ‰€æœ‰æŒ‰é’®å’ŒæŽ§ä»¶éƒ½ä½¿ç”¨ Style="{x:Null}" å’Œè‡ªå®šä¹‰æ¨¡æ¿ -->
                                </Grid.Resources>
                                <!-- åµŒå…¥å¼å‘½ä»¤æç¤ºç¬¦ç•Œé¢ -->
                                <Grid Background="{DynamicResource Brush.CommandPromptBackground}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- å·¥å…·æ  -->
                                    <Border Grid.Row="0" Background="{DynamicResource Brush.CommandPromptHeaderBackground}" BorderBrush="{DynamicResource Brush.CommandPromptHeaderBorder}" BorderThickness="0,0,0,1.7" Margin="0,0,0,13.6">
                                        <StackPanel Orientation="Horizontal" Margin="25.5,13.6">
                                            <Button Name="EmbeddedClearButton" Content="ðŸ—‘ï¸ æ¸…ç©º" Margin="0,0,25.5,0" Padding="20.4,10.2" FontSize="24" Click="EmbeddedClearButton_Click" Style="{x:Null}">
                                                <Button.Template>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border x:Name="border" Background="{DynamicResource Brush.CommandPromptHeaderBackground}" BorderBrush="{DynamicResource Brush.CommandPromptHeaderBorder}" BorderThickness="1" CornerRadius="2">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}">
                                                                <ContentPresenter.Resources>
                                                                    <Style TargetType="TextBlock">
                                                                        <Setter Property="Foreground" Value="{DynamicResource Brush.CommandPromptInputForeground}"/>
                                                                    </Style>
                                                                </ContentPresenter.Resources>
                                                            </ContentPresenter>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.ButtonHoverBackground}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.CommandPromptBackground}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.55"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Button.Template>
                                            </Button>
                                            <Button Name="EmbeddedStopButton" Content="â¹ï¸ åœæ­¢" Margin="0,0,25.5,0" Padding="20.4,10.2" FontSize="24" Click="EmbeddedStopButton_Click" Style="{x:Null}">
                                                <Button.Template>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border x:Name="border" Background="{DynamicResource Brush.CommandPromptHeaderBackground}" BorderBrush="{DynamicResource Brush.CommandPromptHeaderBorder}" BorderThickness="1" CornerRadius="2">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}">
                                                                <ContentPresenter.Resources>
                                                                    <Style TargetType="TextBlock">
                                                                        <Setter Property="Foreground" Value="{DynamicResource Brush.CommandPromptInputForeground}"/>
                                                                    </Style>
                                                                </ContentPresenter.Resources>
                                                            </ContentPresenter>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.ButtonHoverBackground}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.CommandPromptBackground}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.55"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Button.Template>
                                            </Button>
                                            <Separator Margin="13.6,0" Background="{DynamicResource Brush.CommandPromptHeaderBorder}"/>
                                            <TextBlock Text="FFmpeg è·¯å¾„:" VerticalAlignment="Center" Margin="0,0,13.6,0" Foreground="{DynamicResource Brush.TextMuted}" FontSize="24"/>
                                            <TextBox Name="EmbeddedFFmpegPathTextBox" Text="ffmpeg.exe" Width="425" Margin="0,0,25.5,0" FontFamily="Consolas" FontSize="24" Padding="13.6,8.5" VerticalContentAlignment="Center" Style="{x:Null}" Foreground="{DynamicResource Brush.CommandPromptInputForeground}">
                                                <TextBox.Template>
                                                    <ControlTemplate TargetType="TextBox">
                                                        <Border x:Name="border" Background="{DynamicResource Brush.CommandPromptInputBackground}" BorderBrush="{DynamicResource Brush.CommandPromptInputBorder}" BorderThickness="1" CornerRadius="2">
                                                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}" Background="{DynamicResource Brush.CommandPromptInputBackground}"/>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.55"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </TextBox.Template>
                                            </TextBox>
                                            <Button Name="EmbeddedBrowseFFmpegButton" Content="..." Width="67" Padding="0" FontSize="24" Click="EmbeddedBrowseFFmpegButton_Click" Style="{x:Null}">
                                                <Button.Template>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border x:Name="border" Background="{DynamicResource Brush.CommandPromptHeaderBackground}" BorderBrush="{DynamicResource Brush.CommandPromptHeaderBorder}" BorderThickness="1" CornerRadius="2">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}">
                                                                <ContentPresenter.Resources>
                                                                    <Style TargetType="TextBlock">
                                                                        <Setter Property="Foreground" Value="{DynamicResource Brush.CommandPromptInputForeground}"/>
                                                                    </Style>
                                                                </ContentPresenter.Resources>
                                                            </ContentPresenter>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.ButtonHoverBackground}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.CommandPromptBackground}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.55"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Button.Template>
                                            </Button>
                                        </StackPanel>
                                    </Border>

                                    <!-- è¾“å‡ºæ˜¾ç¤ºåŒºåŸŸ -->
                                    <Border Grid.Row="1" Background="{DynamicResource Brush.CommandPromptBackground}" Margin="16.8,0,16.8,13.6">
                                        <ScrollViewer Name="EmbeddedOutputScrollViewer" VerticalScrollBarVisibility="Auto" Background="{DynamicResource Brush.CommandPromptBackground}">
                                            <TextBox Name="EmbeddedOutputTextBox" BorderThickness="0" FontFamily="Consolas" FontSize="24" IsReadOnly="True" AcceptsReturn="True" TextWrapping="NoWrap" Style="{x:Null}" Foreground="{DynamicResource Brush.CommandPromptInputForeground}" Text="FFmpeg å‘½ä»¤æç¤ºç¬¦å·²å°±ç»ª...
è¾“å…¥ FFmpeg å‘½ä»¤å¹¶æŒ‰ Enter æ‰§è¡Œ
è¾“å…¥ 'help' æŸ¥çœ‹å¯ç”¨å‘½ä»¤
è¾“å…¥ 'clear' æ¸…ç©ºè¾“å‡º
è¾“å…¥ 'exit' è¿”å›žæ’­æ”¾å™¨

> ">
                                                <TextBox.Template>
                                                    <ControlTemplate TargetType="TextBox">
                                                        <Border x:Name="border" Background="{DynamicResource Brush.CommandPromptBackground}" BorderBrush="Transparent" BorderThickness="0">
                                                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}" Background="{DynamicResource Brush.CommandPromptBackground}"/>
                                                        </Border>
                                                    </ControlTemplate>
                                                </TextBox.Template>
                                            </TextBox>
                                        </ScrollViewer>
                                    </Border>

                                    <!-- è¿›åº¦æ¡ -->
                                    <Border Grid.Row="2" Background="{DynamicResource Brush.CommandPromptHeaderBackground}" BorderBrush="{DynamicResource Brush.CommandPromptHeaderBorder}" BorderThickness="0,1.7,0,0" Margin="16.8,0,16.8,13.6">
                                        <Grid Background="{DynamicResource Brush.CommandPromptHeaderBackground}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <ProgressBar Name="EmbeddedProgressBar" Grid.Column="0" Height="10.2" BorderThickness="0" Value="0" Margin="0,13.6,25.5,13.6" Style="{x:Null}">
                                                <ProgressBar.Template>
                                                    <ControlTemplate TargetType="ProgressBar">
                                                        <Border x:Name="PART_Track" Background="{DynamicResource Brush.CommandPromptProgressBackground}" BorderThickness="0" CornerRadius="2">
                                                            <Border x:Name="PART_Indicator" Background="{DynamicResource Brush.CommandPromptProgressForeground}" HorizontalAlignment="Left" CornerRadius="2"/>
                                                        </Border>
                                                    </ControlTemplate>
                                                </ProgressBar.Template>
                                            </ProgressBar>

                                            <TextBlock Name="EmbeddedProgressTextBlock" Grid.Column="1" Text="å°±ç»ª" Foreground="{DynamicResource Brush.TextMuted}" VerticalAlignment="Center" Margin="0,0,25.5,0" FontSize="24"/>
                                        </Grid>
                                    </Border>

                                    <!-- å‘½ä»¤è¾“å…¥åŒºåŸŸ -->
                                    <Border Grid.Row="3" Background="{DynamicResource Brush.CommandPromptHeaderBackground}" BorderBrush="{DynamicResource Brush.CommandPromptHeaderBorder}" BorderThickness="0,1.7,0,0" Margin="16.8,0,16.8,16.8">
                                        <Grid Background="{DynamicResource Brush.CommandPromptHeaderBackground}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Column="0" Text="&gt;" Margin="25.5,0,13.6,0" VerticalAlignment="Center" Foreground="{DynamicResource Brush.AccentPrimary}" FontWeight="Bold" FontSize="27.2"/>

                                            <TextBox Name="EmbeddedCommandTextBox" Grid.Column="1" FontFamily="Consolas" FontSize="24" Padding="13.6,8.5" VerticalContentAlignment="Center" KeyDown="EmbeddedCommandTextBox_KeyDown" TextChanged="EmbeddedCommandTextBox_TextChanged" Margin="0,13.6" Style="{x:Null}" Foreground="{DynamicResource Brush.CommandPromptInputForeground}">
                                                <TextBox.Template>
                                                    <ControlTemplate TargetType="TextBox">
                                                        <Border x:Name="border" Background="{DynamicResource Brush.CommandPromptInputBackground}" BorderBrush="{DynamicResource Brush.CommandPromptInputBorder}" BorderThickness="1" CornerRadius="2">
                                                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}" Background="{DynamicResource Brush.CommandPromptInputBackground}"/>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.55"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </TextBox.Template>
                                            </TextBox>

                                            <Button Name="EmbeddedExecuteButton"
                                                    Grid.Column="2"
                                                    Content="æ‰§è¡Œ"
                                                    Width="136"
                                                    Margin="13.6,13.6,25.5,13.6"
                                                    Padding="25.5,8.5"
                                                    FontSize="24"
                                                    Click="EmbeddedExecuteButton_Click"
                                                    Style="{x:Null}">
                                                <Button.Template>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border x:Name="border" Background="{DynamicResource Brush.AccentPrimary}" BorderBrush="{DynamicResource Brush.AccentPrimary}" BorderThickness="0" CornerRadius="2">
                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}">
                                                                <ContentPresenter.Resources>
                                                                    <Style TargetType="TextBlock">
                                                                        <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
                                                                    </Style>
                                                                </ContentPresenter.Resources>
                                                            </ContentPresenter>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.AccentSecondary}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.AccentSecondary}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="border" Property="Background" Value="{DynamicResource Brush.ButtonPressedBackground}"/>
                                                                <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource Brush.ButtonPressedBackground}"/>
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.55"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Button.Template>
                                            </Button>
                                        </Grid>
                                    </Border>
                                </Grid>
                            </Grid>
                        </Grid>
                    </Viewbox>
                    
                    <!-- æ’­æ”¾æŽ§åˆ¶æ ï¼ˆä¼ ç»Ÿä¸‰è¡Œå¸ƒå±€ï¼‰ -->
                    <Border x:Name="PlayerControlsBorder" Grid.Row="1" Background="{DynamicResource Brush.PlayerControlsBackground}" BorderBrush="{DynamicResource Brush.PanelBorder}" BorderThickness="0,1,0,0" Padding="8,5">
                        <Border.ContextMenu>
                            <ContextMenu>
                                <!-- ========== æ’­æ”¾æŽ§åˆ¶ ========== -->
                                <MenuItem Header="æ’­æ”¾/æš‚åœ â¯ï¸ (Space)" Click="PlayerMenu_PlayPause_Click"/>
                                <MenuItem Header="åœæ­¢ â¹ï¸ (S)" Click="PlayerMenu_Stop_Click"/>
                                <Separator/>
                                <MenuItem Header="ä¸Šä¸€ä¸ª â®ï¸ (Page Up)" Click="PlayerMenu_Previous_Click"/>
                                <MenuItem Header="ä¸‹ä¸€ä¸ª â­ï¸ (Page Down)" Click="PlayerMenu_Next_Click"/>
                                <Separator/>
                                
                                <!-- ========== å‰ªè¾‘åŠŸèƒ½ ========== -->
                                <MenuItem Header="å‰ªè¾‘åŠŸèƒ½ âœ‚ï¸">
                                    <MenuItem Header="æ ‡è®°å…¥ç‚¹ ðŸ“ (I)" Click="PlayerMenu_MarkIn_Click"/>
                                    <MenuItem Header="æ ‡è®°å‡ºç‚¹ ðŸ“ (O)" Click="PlayerMenu_MarkOut_Click"/>
                                    <MenuItem Header="æ¸…é™¤å…¥ç‚¹ (Shift+I)" Click="PlayerMenu_ClearIn_Click"/>
                                    <MenuItem Header="æ¸…é™¤å‡ºç‚¹ (Shift+O)" Click="PlayerMenu_ClearOut_Click"/>
                                    <MenuItem Header="é¢„è§ˆç‰‡æ®µ â–¶ï¸" Click="PlayerMenu_PreviewClip_Click"/>
                                </MenuItem>
                                <MenuItem Header="æ’­æ”¾æ¨¡å¼ ðŸ”„">
                                    <MenuItem Header="â— å•æ›²æ’­æ”¾" Name="PlayMode_Single" Click="PlayerMenu_PlayMode_Click" Tag="Single"/>
                                    <MenuItem Header="ðŸ” å•æ›²å¾ªçŽ¯" Name="PlayMode_RepeatOne" Click="PlayerMenu_PlayMode_Click" Tag="RepeatOne"/>
                                    <MenuItem Header="âž¡ï¸ é¡ºåºæ’­æ”¾" Name="PlayMode_Sequential" Click="PlayerMenu_PlayMode_Click" Tag="Sequential"/>
                                    <MenuItem Header="ðŸ”„ å¾ªçŽ¯æ’­æ”¾" Name="PlayMode_RepeatAll" Click="PlayerMenu_PlayMode_Click" Tag="RepeatAll"/>
                                    <MenuItem Header="ðŸ”€ éšæœºæ’­æ”¾" Name="PlayMode_Random" Click="PlayerMenu_PlayMode_Click" Tag="Random"/>
                                </MenuItem>
                                <!-- ========== æ’­æ”¾é€Ÿåº¦ ========== -->
                                <MenuItem Header="æ’­æ”¾é€Ÿåº¦ âš¡">
                                    <MenuItem Header="2.0x" Click="PlayerMenu_Speed_Click" Tag="2.0"/>
                                    <MenuItem Header="1.5x" Click="PlayerMenu_Speed_Click" Tag="1.5"/>
                                    <MenuItem Header="1.25x" Click="PlayerMenu_Speed_Click" Tag="1.25"/>
                                    <MenuItem Header="â— 1.0x (æ­£å¸¸)" Click="PlayerMenu_Speed_Click" Tag="1.0"/>
                                    <MenuItem Header="0.75x" Click="PlayerMenu_Speed_Click" Tag="0.75"/>
                                    <MenuItem Header="0.5x" Click="PlayerMenu_Speed_Click" Tag="0.5"/>
                                    <MenuItem Header="0.25x" Click="PlayerMenu_Speed_Click" Tag="0.25"/>
                                </MenuItem>
                                
                                <Separator/>
                                
                                <!-- ========== æˆªå›¾åŠŸèƒ½ ========== -->
                                <MenuItem Header="æˆªå–å½“å‰å¸§ ðŸ“· (F5)" Click="PlayerMenu_Screenshot_Click"/>
                                
                                <Separator/>
                                
                                <!-- ========== è§†å›¾æŽ§åˆ¶ ========== -->
                                <MenuItem Header="å…¨å± ðŸ–¥ï¸ (F11)" Click="PlayerMenu_FullScreen_Click"/>
                                
                            </ContextMenu>
                        </Border.ContextMenu>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>  <!-- ç¬¬ä¸€è¡Œï¼šè¿›åº¦æ¡ä¸Žæ—¶é—´ -->
                                <RowDefinition Height="Auto"/>  <!-- ç¬¬äºŒè¡Œï¼šä¼ ç»Ÿæ’­æ”¾æŽ§åˆ¶ -->
                            </Grid.RowDefinitions>
                            
                            <!-- ==================== ç¬¬ä¸€è¡Œï¼šè¿›åº¦ä¸Žæ—¶é—´ + è§†å›¾æŽ§åˆ¶ ==================== -->
                            <Grid Grid.Row="0" Margin="0,0,0,2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <!-- å½“å‰æ—¶é—´ (ç‚¹å‡»å¯è¾“å…¥è·³è½¬) -->
                                <Grid Grid.Column="0" Margin="0,0,10,0">
                                    <!-- æ—¶é—´æ˜¾ç¤º -->
                                    <Border Name="TimeDisplayBorder" Background="{DynamicResource Brush.TimeDisplayBackground}" CornerRadius="3" Padding="8,4"
                                            Cursor="Hand" ToolTip="ç‚¹å‡»è¾“å…¥æ—¶é—´è·³è½¬" MouseDown="TimeDisplay_MouseDown"
                                            Width="110">
                                        <TextBlock Name="CurrentTimeText"
                                                   Text="{Binding VideoPlayerViewModel.FormattedCurrentTime}"
                                                   FontFamily="Consolas"
                                                   FontSize="13"
                                                   FontWeight="Bold"
                                                   Foreground="{DynamicResource Brush.TextPrimary}"
                                                   HorizontalAlignment="Center"/>
                                    </Border>
                                    
                                    <!-- æ—¶é—´è¾“å…¥æ¡† (é»˜è®¤éšè—) -->
                                    <Border Name="TimeInputBorder" Background="{DynamicResource Brush.TimeInputBackground}" CornerRadius="3" Padding="4,2"
                                            Visibility="Collapsed">
                                        <TextBox Name="TimeInputBox"
                                                 FontFamily="Consolas"
                                                 FontSize="13"
                                                 FontWeight="Bold"
                                                 Foreground="White"
                                                 Background="Transparent"
                                                 BorderThickness="0"
                                                 VerticalContentAlignment="Center"
                                                 Width="102"
                                                 KeyDown="TimeInputBox_KeyDown"
                                                 LostFocus="TimeInputBox_LostFocus"
                                                 PreviewTextInput="TimeInputBox_PreviewTextInput"/>
                                    </Border>
                                </Grid>
                                
                                <!-- è¿›åº¦æ¡ + å…¥å‡ºç‚¹å¯è§†åŒ– -->
                                <Grid Grid.Column="1">
                                    <!-- è¿›åº¦æ¡ï¼ˆIsMoveToPointEnabledæ”¯æŒç‚¹å‡»è·³è½¬ï¼‰ -->
                                    <Slider Name="ProgressSlider" 
                                            Minimum="0" 
                                            Maximum="{Binding VideoPlayerViewModel.Duration}" 
                                            Value="{Binding VideoPlayerViewModel.CurrentPosition, Mode=TwoWay}"
                                            VerticalAlignment="Center"
                                            Height="22"
                                            IsMoveToPointEnabled="True"
                                            SizeChanged="ProgressSlider_SizeChanged"/>
                                    
                                    <!-- å…¥å‡ºç‚¹æ ‡è®°è¦†ç›–å±‚ -->
                                    <Canvas IsHitTestVisible="False" Height="22" VerticalAlignment="Center" ClipToBounds="False">
                                        <!-- æ ‡è®°åŒºé—´é«˜äº® (ç»¿è‰²) -->
                                        <Rectangle Name="MarkedRegion"
                                                   Height="22"
                                                   Fill="{DynamicResource Brush.ButtonSuccess}" Opacity="0.5"
                                                   Canvas.Left="{Binding VideoPlayerViewModel.InPointPixelPosition}"
                                                   Width="{Binding VideoPlayerViewModel.MarkedRegionWidth}"
                                                   Visibility="{Binding VideoPlayerViewModel.HasBothPoints, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                        
                                        <!-- å…¥ç‚¹æ ‡è®° (è“è‰²ä¸‰è§’å½¢) -->
                                        <Path Name="InPointMarker"
                                              Canvas.Top="-2"
                                              Data="M0,0 L8,12 L16,0 Z"
                                              Fill="{DynamicResource Brush.AccentPrimary}"
                                              Stroke="{DynamicResource Brush.AccentPrimary}"
                                              StrokeThickness="1.5"
                                              Canvas.Left="{Binding VideoPlayerViewModel.InPointPixelPosition}"
                                              Visibility="{Binding VideoPlayerViewModel.HasInPoint, Converter={StaticResource BooleanToVisibilityConverter}}">
                                            <Path.RenderTransform>
                                                <TranslateTransform X="-8"/>
                                            </Path.RenderTransform>
                                        </Path>
                                        
                                        <!-- å‡ºç‚¹æ ‡è®° (æ©™è‰²ä¸‰è§’å½¢) -->
                                        <Path Name="OutPointMarker"
                                              Canvas.Top="-2"
                                              Data="M0,0 L8,12 L16,0 Z"
                                              Fill="{DynamicResource Brush.ButtonWarning}"
                                              Stroke="{DynamicResource Brush.ButtonWarning}"
                                              StrokeThickness="1.5"
                                              Canvas.Left="{Binding VideoPlayerViewModel.OutPointPixelPosition}"
                                              Visibility="{Binding VideoPlayerViewModel.HasOutPoint, Converter={StaticResource BooleanToVisibilityConverter}}">
                                            <Path.RenderTransform>
                                                <TranslateTransform X="-8"/>
                                            </Path.RenderTransform>
                                        </Path>
                                    </Canvas>
                                </Grid>
                                
                                <!-- æ€»æ—¶é•¿ -->
                                <TextBlock Grid.Column="2" 
                                           Name="TotalTimeText" 
                                           Text="{Binding VideoPlayerViewModel.FormattedDuration}" 
                                           FontFamily="Consolas"
                                           Margin="10,0,12,0" 
                                    VerticalAlignment="Center"
                                           FontSize="13"
                                           FontWeight="Medium"
                                           Foreground="{DynamicResource Brush.TextSecondary}"/>
                                
                                <!-- è§†å›¾æŽ§åˆ¶æŒ‰é’®ç»„ -->
                                <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center">
                                    <!-- åˆ‡æ¢å›¾ç‰‡/æ’­æ”¾å™¨/å‘½ä»¤æç¤ºç¬¦ -->
                                    <Button Name="SwitchViewModeButton"
                                          Width="22" Height="22" Margin="2,0,2,0"
                                          FontSize="11"
                                          ToolTip="åˆ‡æ¢è§†å›¾æ¨¡å¼ï¼šå›¾ç‰‡/æ’­æ”¾å™¨/å‘½ä»¤æç¤ºç¬¦ (Ctrl+T)"
                                          Click="SwitchViewModeButton_Click"
                                          Style="{StaticResource ButtonInfoStyle}"
                                          Cursor="Hand">
                                        <TextBlock Name="SwitchViewModeButtonText" Text="ðŸŽ¬" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Button>
                                    <!-- å…¨å± -->
                                    <Button Content="â›¶" Width="22" Height="22" Margin="0,0,0,0"
                                          Name="FullScreenButton"
                                          FontSize="11"
                                          ToolTip="å…¨å±æ’­æ”¾ (F11 æˆ– F)"
                                          Click="FullScreenButton_Click"
                                          Background="{DynamicResource Brush.ButtonBackground}"
                                          BorderBrush="{DynamicResource Brush.ButtonBorder}"
                                          BorderThickness="1" Cursor="Hand"/>
                                </StackPanel>
                            </Grid>
                            <!--  -->
                            <!-- ==================== ç¬¬äºŒè¡Œï¼šæ’­æ”¾æŽ§åˆ¶ ==================== -->
                            <Grid Grid.Row="1" Margin="0,0,0,0">
                                <StackPanel Orientation="Horizontal"
                                            HorizontalAlignment="Center"
                                            LayoutTransform="{StaticResource PlaybackControlsScale}"
                                            RenderTransformOrigin="0.5,0.5">

                                <!-- æ’­æ”¾é€Ÿåº¦ -->
                                <TextBlock Text="é€Ÿåº¦:" FontSize="11" VerticalAlignment="Center" Margin="0,0,3,0" Foreground="{DynamicResource Brush.TextSecondary}"/>
                                <Button Content="âˆ’" Width="24" Height="30" Margin="0,0,2,0"
                                        Command="{Binding VideoPlayerViewModel.SpeedDownCommand}"
                                        FontSize="14" FontWeight="Bold"
                                        ToolTip="å‡é€Ÿ ([)"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1" Cursor="Hand"/>
                                <TextBlock Text="{Binding VideoPlayerViewModel.PlaybackRateText}" 
                                           Width="48" Height="30"
                                           FontFamily="Consolas" FontSize="11" FontWeight="Medium"
                                           VerticalAlignment="Center" HorizontalAlignment="Center"
                                           TextAlignment="Center"
                                           Padding="0,8,0,0"
                                           ToolTip="æ’­æ”¾é€Ÿåº¦"
                                           Foreground="{DynamicResource Brush.TextPrimary}"/>
                                <Button Content="+" Width="24" Height="30" Margin="0,0,8,0"
                                        Command="{Binding VideoPlayerViewModel.SpeedUpCommand}"
                                        FontSize="14" FontWeight="Bold"
                                        ToolTip="åŠ é€Ÿ (])"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1" Cursor="Hand"/>
                                <Button Content="1x" Width="32" Height="30" Margin="0,0,15,0"
                                        Command="{Binding VideoPlayerViewModel.ResetSpeedCommand}"
                                        FontSize="11" FontWeight="Medium"
                                        ToolTip="é‡ç½®é€Ÿåº¦ (R)"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1" Cursor="Hand"/>
                                
                                <!-- å¿«é€€100æ¯«ç§’ -->
                                <Button Content="âª 100ms" Width="68" Height="30" Margin="2"
                                        Name="SeekBackButton"
                                        FontSize="10"
                                        ToolTip="å¿«é€€100æ¯«ç§’ (Shift+â†)"
                                        Command="{Binding VideoPlayerViewModel.SeekBackwardFastCommand}"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1"/>
                                
                                <!-- å¿«é€€5ç§’ -->
                                <Button Content="âª 5s" Width="54" Height="30" Margin="2"
                                        Name="SeekBack5sButton"
                                        FontSize="11"
                                        ToolTip="å¿«é€€5ç§’ (â†)"
                                        Command="{Binding VideoPlayerViewModel.SeekBackwardCommand}"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1"/>
                                
                                <!-- æ’­æ”¾/æš‚åœï¼ˆå±…ä¸­äºŽæ’­æ”¾å™¨ä¸­å¿ƒ 427pxï¼‰ -->
                                <Button Name="PlayPauseButton" 
                                        Content="{Binding VideoPlayerViewModel.PlayPauseButtonText}" 
                                        Width="50" Height="36" 
                                        Margin="8,0" 
                                        FontSize="16"
                                        Command="{Binding VideoPlayerViewModel.PlayPauseCommand}"
                                        Click="PlayPauseButton_Click"
                                        Style="{StaticResource ButtonSuccessStyle}"
                                        Cursor="Hand"
                                        ToolTip="æ’­æ”¾/æš‚åœ (Space)"/>
                                
                                <!-- å¿«è¿›5ç§’ -->
                                <Button Content="5s â©" Width="54" Height="30" Margin="2"
                                        Name="SeekForward5sButton"
                                       FontSize="11"
                                        ToolTip="å¿«è¿›5ç§’ (â†’)"
                                        Command="{Binding VideoPlayerViewModel.SeekForwardCommand}"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1"/>
                                
                                <!-- å¿«è¿›100æ¯«ç§’ -->
                                <Button Content="100ms â©" Width="68" Height="30" Margin="2"
                                        Name="SeekForwardButton"
                                        FontSize="10"
                                        ToolTip="å¿«è¿›100æ¯«ç§’ (Shift+â†’)"
                                        Command="{Binding VideoPlayerViewModel.SeekForwardFastCommand}"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1"/>
                                
                                <!-- åœæ­¢ -->
                                <Button Content="â¹" Width="36" Height="30" Margin="8,0,15,0"
                                      Command="{Binding VideoPlayerViewModel.StopCommand}"
                                      FontSize="13"
                                      ToolTip="åœæ­¢ (S)"
                                      Background="{DynamicResource Brush.ButtonBackground}"
                                      BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1"/>

                                
                                <!-- éŸ³é‡ -->
                                <Button Content="{Binding VideoPlayerViewModel.VolumeIcon}" 
                                        Width="36" Height="30" Margin="0,0,4,0" 
                                        Command="{Binding VideoPlayerViewModel.MuteCommand}"
                                        FontSize="12"
                                        ToolTip="é™éŸ³ (M)"
                                        Background="{DynamicResource Brush.ButtonBackground}"
                                        BorderBrush="{DynamicResource Brush.ButtonBorder}" BorderThickness="1"/>
                                <Slider Name="VolumeSlider" 
                                        Width="70" 
                                        Minimum="0" Maximum="100" 
                                        Value="{Binding VideoPlayerViewModel.Volume, Mode=TwoWay}"
                                        VerticalAlignment="Center"
                                        ToolTip="éŸ³é‡"/>
                    </StackPanel>
                </Grid>
                        </Grid>
                    </Border>
                </Grid>
                
                <!-- åˆ†éš”æ¡2ï¼ˆä¸­é—´åˆ—å†…éƒ¨ï¼‰ -->
                <GridSplitter x:Name="PlayerContentSplitter" Grid.Row="1" HorizontalAlignment="Stretch" Background="{DynamicResource Brush.SplitterBackground}"/>
                
                <!-- ä¸­ä¸‹ï¼šå‰ªè¾‘å·¥ä½œåŒºï¼ˆTabControlè·¨è¶Š + å…¬å…±å‚æ•°ï¼‰ -->
                <Border x:Name="EditTabContainer"
                        Grid.Row="2"
                        Background="{DynamicResource Brush.PanelBackground}"
                        BorderBrush="{DynamicResource Brush.PanelBorder}"
                        BorderThickness="1">
                        <!-- ==================== TabControlï¼ˆåž‚ç›´æ ‡ç­¾+å†…å®¹ï¼‰ - å æ»¡æ•´ä¸ªåŒºåŸŸ ==================== -->
                        <TabControl Name="EditTabControl" TabStripPlacement="Left" BorderThickness="0">
                                <!-- åž‚ç›´æ ‡ç­¾é¡µæ ·å¼ -->
                                <TabControl.Resources>
                                    <!-- è‡ªå®šä¹‰TabControlæ¨¡æ¿ï¼Œæ·»åŠ æ»šåŠ¨æ”¯æŒ -->
                                    <Style TargetType="TabControl">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="TabControl">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        
                                                        <!-- å·¦ä¾§ï¼šæ ‡ç­¾æ ï¼ˆå¸¦æ»šåŠ¨ï¼‰ -->
                                                        <Border Grid.Column="0"
                                                                Background="{DynamicResource Brush.PanelAltBackground}"
                                                                BorderBrush="{DynamicResource Brush.PanelBorder}"
                                                                BorderThickness="0,0,1,0">
                                                            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                                                <StackPanel IsItemsHost="True"/>
                                                            </ScrollViewer>
                                                        </Border>
                                                        
                                                        <!-- å³ä¾§ï¼šå†…å®¹åŒº -->
                                                        <Border Grid.Column="1" Background="{DynamicResource Brush.PanelBackground}">
                                                            <ContentPresenter ContentSource="SelectedContent"/>
                                                        </Border>
                                                    </Grid>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                    
                                    <!-- æ ‡ç­¾é¡¹æ ·å¼ -->
                                    <Style TargetType="TabItem">
                                        <Setter Property="FontSize" Value="11"/>
                                        <Setter Property="FontWeight" Value="Normal"/>
                                        <Setter Property="Padding" Value="12,8"/>
                                        <Setter Property="Margin" Value="0,0"/>
                                        <Setter Property="Height" Value="36"/>
                                        <Setter Property="MinWidth" Value="100"/>
                                        <Setter Property="Background" Value="{DynamicResource Brush.PanelAltBackground}"/>
                                        <Setter Property="Foreground" Value="{DynamicResource Brush.TextSecondary}"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="TabItem">
                                                    <Border Name="Border" Background="{DynamicResource Brush.PanelAltBackground}" 
                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                            BorderThickness="{TemplateBinding BorderThickness}"
                                                            Padding="{TemplateBinding Padding}">
                                                        <ContentPresenter ContentSource="Header" 
                                                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                        TextElement.Foreground="{DynamicResource Brush.TextSecondary}"/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="{DynamicResource Brush.PanelBackground}"/>
                                                            <Setter TargetName="Border" Property="BorderThickness" Value="3,0,0,0"/>
                                                            <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource Brush.AccentPrimary}"/>
                                                            <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
                                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Border" Property="Background" Value="{DynamicResource Brush.ListItemHover}"/>
                                                            <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </TabControl.Resources>
                        
                        <!-- ==================== æ ‡ç­¾é¡µ1ï¼šåˆ‡ç‰‡ ==================== -->
                        <TabItem Header=" ðŸŽ¬ åˆ‡ç‰‡">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="0,16,0,16">
                                <StackPanel Margin="24,0">
                                    <GroupBox Header="ðŸŽ¯ å…¥å‡ºç‚¹æ ‡è®°" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="16,12">
                                            <!-- ç¬¬ä¸€è¡Œï¼šX + å…¥ç‚¹è¾“å…¥æ¡† + å…¥ç‚¹æŒ‰é’® + æ’­æ”¾åŒºé—´ + å‡ºç‚¹æŒ‰é’® + å‡ºç‚¹è¾“å…¥æ¡† + X -->
                                            <Grid Margin="0,0,0,16">
                                        <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                                <!-- æ¸…é™¤å…¥ç‚¹æŒ‰é’® (X) -->
                                                <Button Grid.Column="0"
                                                        Content="âœ–"
                                                        Name="ClearInPointButton"
                                                        Width="30"
                                                        Height="30"
                                                        Margin="0,0,8,0"
                                                        FontSize="10"
                                                        Command="{Binding VideoPlayerViewModel.ClearInPointCommand}"
                                                        Style="{StaticResource ButtonDangerOutlineStyle}"
                                                        Cursor="Hand"
                                                        ToolTip="æ¸…é™¤å…¥ç‚¹"
                                                        VerticalAlignment="Center"
                                                        Visibility="{Binding VideoPlayerViewModel.HasInPoint, Converter={StaticResource BooleanToVisibilityConverter}}"/>

                                                <!-- å…¥ç‚¹è¾“å…¥æ¡† -->
                                                <TextBox Grid.Column="1"
                                                         Name="InPointTimeBox"
                                                             Text="{Binding VideoPlayerViewModel.FormattedInPoint, Mode=OneWay}"
                                                         Width="96"
                                                         Height="30"
                                                             FontFamily="Consolas"
                                                         FontSize="12"
                                                             VerticalContentAlignment="Center"
                                                             HorizontalContentAlignment="Center"
                                                             Background="{DynamicResource Brush.InputInPointBackground}"
                                                             BorderBrush="{DynamicResource Brush.InputInPointBorder}"
                                                             BorderThickness="1"
                                                             Padding="4"
                                                             PreviewKeyDown="TimeBox_PreviewKeyDown"
                                                             MouseDoubleClick="InPointTimeBox_MouseDoubleClick"
                                                         ToolTip="å…¥ç‚¹æ—¶é—´ (å¯ç¼–è¾‘)"
                                                         VerticalAlignment="Center"
                                                         Margin="0,0,6,0"/>

                                                <!-- å…¥ç‚¹æŒ‰é’® -->
                                                <Button Grid.Column="2"
                                                        Content="â© I"
                                                            Name="MarkInPointButton"
                                                        Width="42"
                                                        Height="30"
                                                        FontSize="11"
                                                            FontWeight="Bold"
                                                            Command="{Binding VideoPlayerViewModel.MarkInPointCommand}"
                                                            Style="{StaticResource ButtonSuccessStyle}"
                                                            Cursor="Hand"
                                                        ToolTip="æ ‡è®°å…¥ç‚¹ (I)"
                                                        VerticalAlignment="Center"
                                                        Margin="0,0,12,0"/>

                                                <!-- æ’­æ”¾åŒºé—´æŒ‰é’® (å±…ä¸­) -->
                                                <Button Grid.Column="3"
                                                        Content="ðŸš© æ’­æ”¾åŒºé—´"
                                                        Name="PlayMarkedButton"
                                                        Width="100"
                                                        Height="34"
                                                        FontSize="13"
                                                        Style="{StaticResource ButtonInfoStyle}"
                                                            Cursor="Hand"
                                                        Command="{Binding VideoPlayerViewModel.PlayMarkedRegionCommand}"
                                                        ToolTip="æ’­æ”¾æ ‡è®°åŒºé—´"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"/>

                                                <!-- å‡ºç‚¹æŒ‰é’® -->
                                                <Button Grid.Column="4"
                                                        Content="âª O"
                                                            Name="MarkOutPointButton"
                                                        Width="42"
                                                        Height="30"
                                                        FontSize="11"
                                                            FontWeight="Bold"
                                                            Command="{Binding VideoPlayerViewModel.MarkOutPointCommand}"
                                                            Style="{StaticResource ButtonWarningStyle}"
                                                            Cursor="Hand"
                                                        ToolTip="æ ‡è®°å‡ºç‚¹ (O)"
                                                        VerticalAlignment="Center"
                                                        Margin="12,0,6,0"/>

                                                <!-- å‡ºç‚¹è¾“å…¥æ¡† -->
                                                <TextBox Grid.Column="5"
                                                         Name="OutPointTimeBox"
                                                             Text="{Binding VideoPlayerViewModel.FormattedOutPoint, Mode=OneWay}"
                                                         Width="96"
                                                         Height="30"
                                                             FontFamily="Consolas"
                                                         FontSize="12"
                                                             VerticalContentAlignment="Center"
                                                             HorizontalContentAlignment="Center"
                                                             Background="{DynamicResource Brush.InputOutPointBackground}"
                                                             BorderBrush="{DynamicResource Brush.InputOutPointBorder}"
                                                             BorderThickness="1"
                                                             Padding="4"
                                                             PreviewKeyDown="TimeBox_PreviewKeyDown"
                                                             MouseDoubleClick="OutPointTimeBox_MouseDoubleClick"
                                                         ToolTip="å‡ºç‚¹æ—¶é—´ (å¯ç¼–è¾‘)"
                                                         VerticalAlignment="Center"
                                                         Margin="0,0,8,0"/>

                                                <!-- æ¸…é™¤å‡ºç‚¹æŒ‰é’® (X) -->
                                                <Button Grid.Column="6"
                                                        Content="âœ–"
                                                            Name="ClearOutPointButton"
                                                        Width="30"
                                                        Height="30"
                                                            FontSize="10"
                                                            Command="{Binding VideoPlayerViewModel.ClearOutPointCommand}"
                                                            Style="{StaticResource ButtonDangerOutlineStyle}"
                                                            Cursor="Hand"
                                                            ToolTip="æ¸…é™¤å‡ºç‚¹"
                                                        VerticalAlignment="Center"
                                                            Visibility="{Binding VideoPlayerViewModel.HasOutPoint, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                    </Grid>

                                            <Separator Margin="0,0,0,16"/>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="260"/>
                                            </Grid.ColumnDefinitions>

                                                <!-- ç‰‡æ®µåˆ—è¡¨ -->
                                                <Border Grid.Column="0"
                                                        Background="{DynamicResource Brush.PanelBackground}"
                                                        BorderBrush="{DynamicResource Brush.PanelBorder}"
                                                        BorderThickness="1"
                                                        CornerRadius="6">
                                                    <ListView Name="ClipListView"
                                              ItemsSource="{Binding ClipManager.Clips}"
                                              Margin="0"
                                                              Background="Transparent"
                                              SelectionMode="Extended"
                                                              SelectionChanged="ClipListView_SelectionChanged"
                                                              ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                              ScrollViewer.VerticalScrollBarVisibility="Auto"
                                              ScrollViewer.CanContentScroll="True">
                                                        <ListView.ItemTemplate>
                                                        <DataTemplate>
                                                                <Border BorderBrush="{DynamicResource Brush.ControlBorder}"
                                                                        BorderThickness="0,0,0,1"
                                                                        Padding="12,10"
                                                                        Background="Transparent">
                                                                    <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                        </Grid.ColumnDefinitions>

                                                                        <CheckBox Grid.Column="0"
                                                                                  IsChecked="{Binding IsSelected}"
                                                                      VerticalAlignment="Center"
                                                                                  Margin="0,0,12,0"
                                                                                  ToolTip="é€‰æ‹©ç‰‡æ®µ"
                                                                      FocusVisualStyle="{x:Null}"/>

                                                                        <StackPanel Grid.Column="1" Orientation="Vertical">
                                                                            <TextBox Name="ClipTitleTextBox"
                                                                                     Text="{Binding EditableTitle, UpdateSourceTrigger=LostFocus}"
                                                                         FontSize="13"
                                                                                     FontWeight="SemiBold"
                                                                         Foreground="{DynamicResource Brush.AccentPrimary}"
                                                                                     BorderBrush="{DynamicResource Brush.ControlBorder}"
                                                                                     BorderThickness="0,0,0,1"
                                                                         Background="Transparent"
                                                                                     Padding="0,0,0,4"
                                                                         PreviewKeyDown="ClipTitleTextBox_PreviewKeyDown"
                                                                         MouseDoubleClick="ClipTitleTextBox_MouseDoubleClick"
                                                                                     ToolTip="åŒå‡»å¯å¿«é€Ÿé‡å‘½å"/>
                                                                            <TextBlock Text="{Binding DisplayName}"
                                                                                       FontSize="11"
                                                                                       Foreground="{DynamicResource Brush.TextMuted}"
                                                                                       Margin="0,6,0,0"/>
                                                            </StackPanel>

                                                                        <StackPanel Grid.Column="2"
                                                                                    Orientation="Vertical"
                                                                                    Margin="16,0"
                                                                                    HorizontalAlignment="Right"
                                                                                    VerticalAlignment="Center">
                                                            <TextBlock Text="{Binding TimeRange}"
                                                                       FontFamily="Consolas"
                                                                       FontSize="12"
                                                                                       Foreground="{DynamicResource Brush.TextPrimary}"/>
                                                                            <TextBlock Text="{Binding FormattedDuration, StringFormat=æ—¶é•¿: {0}}"
                                                                                       FontSize="11"
                                                                                       Foreground="{DynamicResource Brush.TextSecondary}"
                                                                                       Margin="0,4,0,0"/>
                                                                        </StackPanel>

                                                                        <StackPanel Grid.Column="3"
                                                                                    Orientation="Horizontal"
                                                                        VerticalAlignment="Center">
                                                                <Button Content="â¬†"
                                                                                    Width="28"
                                                                                    Height="28"
                                                                                    Margin="0,0,4,0"
                                                                                    Background="{DynamicResource Brush.ButtonBackground}"
                                                                                    BorderBrush="{DynamicResource Brush.ControlBorder}"
                                                                        BorderThickness="1"
                                                                        Cursor="Hand"
                                                                        CommandParameter="{Binding}"
                                                                                    IsEnabled="{Binding IsFirst, Converter={StaticResource InverseBooleanConverter}}"
                                                                                    Click="MoveClipUpItemButton_Click"
                                                                                    ToolTip="ä¸Šç§»ç‰‡æ®µ"/>
                                                                <Button Content="â¬‡"
                                                                                    Width="28"
                                                                                    Height="28"
                                                                                    Margin="0,0,4,0"
                                                                                    Background="{DynamicResource Brush.ButtonBackground}"
                                                                                    BorderBrush="{DynamicResource Brush.ControlBorder}"
                                                                        BorderThickness="1"
                                                                        Cursor="Hand"
                                                                        CommandParameter="{Binding}"
                                                                                    IsEnabled="{Binding IsLast, Converter={StaticResource InverseBooleanConverter}}"
                                                                                    Click="MoveClipDownItemButton_Click"
                                                                                    ToolTip="ä¸‹ç§»ç‰‡æ®µ"/>
                                                                <Button Content="ðŸ—‘ï¸"
                                                                                    Width="32"
                                                                                    Height="28"
                                                                        Style="{StaticResource ButtonDangerOutlineStyle}"
                                                                        Cursor="Hand"
                                                                        CommandParameter="{Binding}"
                                                                                    Click="DeleteClipItemButton_Click"
                                                                                    ToolTip="åˆ é™¤ç‰‡æ®µ"/>
                                                            </StackPanel>
                                                                    </Grid>
                                                                </Border>
                                                        </DataTemplate>
                                                        </ListView.ItemTemplate>

                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="Margin" Value="0"/>
                                                                <Setter Property="Padding" Value="0"/>
                                                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                                <Setter Property="Background" Value="Transparent"/>
                                                                <Setter Property="BorderThickness" Value="0"/>
                                                <Style.Triggers>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter Property="Background" Value="{DynamicResource Brush.ListItemSelected}"/>
                                                    </Trigger>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="{DynamicResource Brush.ListItemHover}"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                    </ListView>
                                                </Border>

                                                <!-- æ“ä½œåŒº -->
                                                <Border Grid.Column="1"
                                                        Margin="16,0,0,0"
                                                        Background="{DynamicResource Brush.PanelAltBackground}"
                                                        BorderBrush="{DynamicResource Brush.PanelBorder}"
                                                        BorderThickness="1"
                                                        CornerRadius="6"
                                                        Padding="16">
                                                    <Grid>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>

                                                        <!-- åŠ å…¥é˜Ÿåˆ—æŒ‰é’® -->
                                                        <Button Grid.Row="0"
                                                                Content="+ é˜Ÿåˆ—"
                                                                Name="AddToQueueButton"
                                                                Height="34"
                                                                FontSize="13"
                                                                FontWeight="Bold"
                                                                Style="{StaticResource ButtonSuccessStyle}"
                                                                Cursor="Hand"
                                                                Click="AddToQueueButton_Click"
                                                                ToolTip="å°†å…¥å‡ºç‚¹åŠ å…¥ç‰‡æ®µåˆ—è¡¨"
                                                                Margin="0,0,0,12"/>

                                                        <Button Grid.Row="1"
                                                                Content="âœ‚ï¸ å‰ªåˆ‡é€‰ä¸­ç‰‡æ®µ"
                                                                Name="StartCutButton"
                                                                Height="40"
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                Style="{StaticResource ButtonOrangeStyle}"
                                                                Cursor="Hand"
                                                                Click="StartCutButton_Click"
                                                                ToolTip="å‰ªåˆ‡é€‰ä¸­çš„ç‰‡æ®µï¼ˆæ”¯æŒæ‰¹é‡ï¼‰"
                                                                Margin="0,0,0,12"/>

                                                        <!-- ç»Ÿè®¡ä¿¡æ¯ï¼šæ€»æ•° + é€‰ä¸­ -->
                                                        <StackPanel Grid.Row="2"
                                                                    Orientation="Horizontal"
                                                                    HorizontalAlignment="Center"
                                                                    Margin="0,0,0,12">
                                                            <TextBlock Text="{Binding ClipManager.ClipCount, StringFormat='æ€»æ•° {0}'}"
                                                                       FontSize="13"
                                                                       Foreground="{DynamicResource Brush.TextPrimary}"/>
                                                            <TextBlock Text=" | "
                                                                       FontSize="13"
                                                                       Foreground="{DynamicResource Brush.TextMuted}"
                                                                       Margin="12,0"/>
                                                            <TextBlock Text="{Binding ClipManager.SelectedClipCount, StringFormat='é€‰ä¸­ {0}'}"
                                                                       FontSize="13"
                                                                       Foreground="{DynamicResource Brush.AccentPrimary}"/>
                                                        </StackPanel>

                                                        <UniformGrid Grid.Row="3" Rows="1" Columns="2" Margin="0,0,0,10">
                                                            <Button Name="MoveClipUpButton"
                                                                    Content="â¬† ä¸Šç§»"
                                                                    Height="32"
                                                                    Margin="2"
                                                                    FontSize="11"
                                                                    Background="{DynamicResource Brush.SplitterBackground}"
                                                                    BorderBrush="{DynamicResource Brush.ControlBorder}"
                                                                    Click="MoveClipUpButton_Click"/>
                                                            <Button Name="MoveClipDownButton"
                                                                    Content="â¬‡ ä¸‹ç§»"
                                                                    Height="32"
                                                                    Margin="2"
                                                                    FontSize="11"
                                                                    Background="{DynamicResource Brush.SplitterBackground}"
                                                                    BorderBrush="{DynamicResource Brush.ControlBorder}"
                                                                    Click="MoveClipDownButton_Click"/>
                                                        </UniformGrid>
                                                        <UniformGrid Grid.Row="4" Rows="1" Columns="2" Margin="0,0,0,10">
                                                            <Button Content="âœ… å…¨é€‰"
                                                                    Height="32"
                                                                    Margin="2"
                                                                    FontSize="11"
                                                                    Style="{StaticResource ButtonInfoStyle}"
                                                                    Click="SelectAllClipsButton_Click"/>
                                                            <Button Content="âŒ å…¨æ¶ˆ"
                                                                    Height="32"
                                                                    Margin="2"
                                                                    FontSize="11"
                                                                    Background="{DynamicResource Brush.TextMuted}"
                                                                    Foreground="White"
                                                                    BorderThickness="0"
                                                                    Click="DeselectAllClipsButton_Click"/>
                                                        </UniformGrid>
                                                        <UniformGrid Grid.Row="5" Rows="1" Columns="2" Margin="0,0,0,10">
                                                            <Button Content="ðŸ—‘ï¸ åˆ é™¤"
                                                                    Height="32"
                                                                    Margin="2"
                                                                    FontSize="11"
                                                                    Style="{StaticResource ButtonDangerOutlineStyle}"
                                                                    Click="DeleteClipButton_Click"/>
                                                            <Button Content="ðŸ”„ æ¸…ç©º"
                                                                    Height="32"
                                                                    Margin="2"
                                                                    FontSize="11"
                                                                    Style="{StaticResource ButtonWarningOutlineStyle}"
                                                                    Click="ClearClipsButton_Click"/>
                                                        </UniformGrid>
                                </Grid>
                                                </Border>
                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ2ï¼šç”»é¢è£å‰ª ==================== -->
                        <TabItem Header=" âœ‚ï¸ è£å‰ª">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- è£å‰ªå‚æ•° -->
                                    <GroupBox Header="ðŸ“ è£å‰ªå‚æ•°" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <!-- ç¬¬ä¸€è¡Œï¼šX/Y/W/H å‚æ•°è¾“å…¥ + é”å®šæ¯”ä¾‹ -->
                                            <Grid Margin="0,0,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="24"/>
                                                    <ColumnDefinition Width="65"/>
                                                    <ColumnDefinition Width="16"/>
                                                    <ColumnDefinition Width="24"/>
                                                    <ColumnDefinition Width="65"/>
                                                    <ColumnDefinition Width="16"/>
                                                    <ColumnDefinition Width="24"/>
                                                    <ColumnDefinition Width="65"/>
                                                    <ColumnDefinition Width="16"/>
                                                    <ColumnDefinition Width="24"/>
                                                    <ColumnDefinition Width="65"/>
                                                    <ColumnDefinition Width="16"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="X:" VerticalAlignment="Center" FontSize="12"/>
                                                <TextBox Grid.Column="1" Name="CropXTextBox" Text="0" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="30" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" TextChanged="CropParameter_TextChanged"/>
                                                <TextBlock Grid.Column="3" Text="Y:" VerticalAlignment="Center" FontSize="12"/>
                                                <TextBox Grid.Column="4" Name="CropYTextBox" Text="0" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="30" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" TextChanged="CropParameter_TextChanged"/>
                                                <TextBlock Grid.Column="6" Text="W:" VerticalAlignment="Center" FontSize="12"/>
                                                <TextBox Grid.Column="7" Name="CropWTextBox" Text="1920" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="30" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" TextChanged="CropParameter_TextChanged"/>
                                                <TextBlock Grid.Column="9" Text="H:" VerticalAlignment="Center" FontSize="12"/>
                                                <TextBox Grid.Column="10" Name="CropHTextBox" Text="1080" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="30" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" TextChanged="CropParameter_TextChanged"/>
                                                <CheckBox Grid.Column="12"
                                                          Name="LockAspectRatioCheckBox"
                                                          Content="ðŸ”’ é”å®šæ¯”ä¾‹"
                                                          FontSize="12"
                                                          VerticalAlignment="Center"
                                                          Margin="16,0,0,0"
                                                          Checked="LockAspectRatioCheckBox_Checked"
                                                          Unchecked="LockAspectRatioCheckBox_Unchecked"/>
                                            </Grid>

                                            <!-- ç¼–ç å™¨è­¦å‘Šæç¤º -->
                                            <TextBlock Name="CropCodecWarningText"
                                                       Text=""
                                                       Foreground="{DynamicResource Brush.ButtonWarning}"
                                                       FontSize="11"
                                                       FontWeight="Bold"
                                                       Margin="0,8,0,4"
                                                       TextWrapping="Wrap"
                                                       HorizontalAlignment="Center"
                                                       Visibility="Collapsed"/>

                                            <!-- ç¬¬äºŒè¡Œï¼šäº”ä¸ªæ“ä½œæŒ‰é’® -->
                                            <UniformGrid Rows="1" Columns="5" Margin="0,0,0,0">
                                                <Button Content="ðŸ–±ï¸ æ˜¾ç¤ºè£å‰ªæ¡†" Height="32" Margin="1" FontSize="11" Padding="4,0" Style="{StaticResource ButtonInfoStyle}" Name="ShowCropSelectorButton" Click="ShowCropSelectorButton_Click"/>
                                                <Button Content="ðŸ”„ é‡ç½®ä¸­å¿ƒ" Height="32" Margin="1" FontSize="11" Padding="4,0" Style="{StaticResource ButtonWarningStyle}" Name="ResetCropButton" Click="ResetCropButton_Click"/>
                                                <Button Content="âœ“ åº”ç”¨é€‰æ‹©" Height="32" Margin="1" FontSize="11" Padding="4,0" Style="{StaticResource ButtonSuccessStyle}" Name="ApplyCropButton" Click="ApplyCropButton_Click"/>
                                                <Button Content="âŒ å–æ¶ˆé€‰æ‹©" Height="32" Margin="1" FontSize="11" Padding="4,0" Style="{StaticResource ButtonDangerStyle}" Name="CancelCropButton" Click="CancelCropButton_Click"/>
                                                <Button Content="â–¶ï¸ æ‰§è¡Œè£å‰ª" Height="32" Margin="1" FontSize="11" Padding="4,0" Style="{StaticResource ButtonPurpleStyle}" Name="ExecuteCropButton" Click="ExecuteCropButton_Click"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>

                                    <!-- æ¯”ä¾‹æŽ§åˆ¶ -->
                                    <GroupBox Header="ðŸ”’ æ¯”ä¾‹æŽ§åˆ¶" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock x:Name="CurrentRatioDisplay" Text="å½“å‰æ¯”ä¾‹: è‡ªç”±è°ƒæ•´" FontSize="12" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,8" FontWeight="SemiBold"/>
                                            <TextBlock Text="é¢„è®¾æ¯”ä¾‹:" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,6" Foreground="{DynamicResource Brush.TextSecondary}"/>
                                            <UniformGrid Rows="2" Columns="3" Margin="0,0,0,0">
                                                <Button Content="16:9" Height="32" Margin="4" FontSize="12" Padding="12,0" Name="Preset16_9Button" Click="Preset16_9Button_Click" Style="{StaticResource PresetRatioButtonStyle}"/>
                                                <Button Content="9:16" Height="32" Margin="4" FontSize="12" Padding="12,0" Name="Preset9_16Button" Click="Preset9_16Button_Click" Style="{StaticResource PresetRatioButtonStyle}"/>
                                                <Button Content="1:1" Height="32" Margin="4" FontSize="12" Padding="12,0" Name="Preset1_1Button" Click="Preset1_1Button_Click" Style="{StaticResource PresetRatioButtonStyle}"/>
                                                <Button Content="4:3" Height="32" Margin="4" FontSize="12" Padding="12,0" Name="Preset4_3Button" Click="Preset4_3Button_Click" Style="{StaticResource PresetRatioButtonStyle}"/>
                                                <Button Content="3:4" Height="32" Margin="4" FontSize="12" Padding="12,0" Name="Preset3_4Button" Click="Preset3_4Button_Click" Style="{StaticResource PresetRatioButtonStyle}"/>
                                                <Button Content="21:9" Height="32" Margin="4" FontSize="12" Padding="12,0" Name="Preset21_9Button" Click="Preset21_9Button_Click" Style="{StaticResource PresetRatioButtonStyle}"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>

                                    <!-- ä½¿ç”¨æç¤º -->
                                    <GroupBox Header="ðŸ’¡ ä½¿ç”¨æç¤º" Margin="0,0,0,0" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="â€¢ åœ¨æ’­æ”¾å™¨ä¸­å³é”®ç‚¹å‡»å¯èŽ·å–å½“å‰è£å‰ªå‚æ•°" FontSize="12" Margin="0,0,0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ é¢„è®¾æ¯”ä¾‹æŒ‰é’®å¿«é€Ÿè®¾ç½®æ ‡å‡†å®½é«˜æ¯”" FontSize="12" Margin="0,0,0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ FFmpeg cropå‚æ•°æ ¼å¼: crop=W:H:X:Y" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,4,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ3ï¼šåˆå¹¶ ==================== -->
                        <TabItem Header=" ðŸ”— åˆå¹¶">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <GroupBox Header="ðŸ“‹ åˆå¹¶é˜Ÿåˆ—" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Name="TxtMergeSummary" Text="å°šæœªæ·»åŠ ä»»ä½•æ–‡ä»¶" FontSize="12" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,12"/>
                                            
                                            <WrapPanel Margin="0,0,0,10">
                                                <Button Content="âž• æ·»åŠ é€‰ä¸­æ–‡ä»¶" Height="32" Width="140" Margin="0,0,8,0" Style="{StaticResource ButtonInfoStyle}" Click="BtnMergeAddSelected_Click"/>
                                                <Button Content="ðŸ—‘ï¸ ç§»é™¤æ‰€é€‰" Height="32" Width="120" Margin="0,0,8,0" Style="{StaticResource ButtonDangerOutlineStyle}" Click="BtnMergeRemoveSelected_Click"/>
                                                <Button Content="â¬† ä¸Šç§»" Height="32" Width="90" Margin="0,0,8,0" Style="{StaticResource ButtonInfoOutlineStyle}" Click="BtnMergeMoveUp_Click"/>
                                                <Button Content="â¬‡ ä¸‹ç§»" Height="32" Width="90" Margin="0,0,8,0" Style="{StaticResource ButtonInfoOutlineStyle}" Click="BtnMergeMoveDown_Click"/>
                                                <Button Content="ðŸ§¹ æ¸…ç©ºåˆ—è¡¨" Height="32" Width="110" Style="{StaticResource ButtonWarningOutlineStyle}" Click="BtnMergeClear_Click"/>
                                            </WrapPanel>
                                            
                                            <Border BorderBrush="{DynamicResource Brush.PanelBorder}" BorderThickness="1" CornerRadius="4">
                                                <ListView Name="MergeListView"
                                                          ItemsSource="{Binding MergeItems}"
                                                          SelectionMode="Single"
                                                          AlternationCount="200"
                                                          Height="260">
                                                    <ListView.View>
                                                        <GridView AllowsColumnReorder="False">
                                                            <GridViewColumn Header="#" Width="40">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding Order}" HorizontalAlignment="Center"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="æ–‡ä»¶å" Width="220" DisplayMemberBinding="{Binding FileName}"/>
                                                            <GridViewColumn Header="æ—¶é•¿" Width="80" DisplayMemberBinding="{Binding DurationText}"/>
                                                            <GridViewColumn Header="æŠ€æœ¯æ¦‚å†µ" Width="220" DisplayMemberBinding="{Binding TechnicalSummary}"/>
                                                            <GridViewColumn Header="è·¯å¾„" Width="240" DisplayMemberBinding="{Binding FilePath}"/>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>
                                            </Border>
                                            
                                            <TextBlock Text="æç¤ºï¼šåˆ—è¡¨é¡ºåºå³åˆå¹¶é¡ºåºï¼Œå¯é€šè¿‡ä¸Šç§»/ä¸‹ç§»è°ƒæ•´ã€‚" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,8,0,0"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <GroupBox Header="âš™ï¸ åˆå¹¶è®¾ç½®" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="åˆå¹¶æ¨¡å¼" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,6"/>
                                            <StackPanel Margin="6,0,0,12">
                                                <RadioButton Name="MergeFastModeRadio"
                                                             Content="âš¡ æ— æŸå¿«é€Ÿåˆå¹¶ï¼ˆè¦æ±‚è¾“å…¥æ–‡ä»¶çš„åˆ†è¾¨çŽ‡ã€ç¼–ç ã€éŸ³è½¨å®Œå…¨ä¸€è‡´ï¼‰"
                                                             IsChecked="True"
                                                             Checked="MergeOptionRadio_Checked"
                                                             Margin="0,0,0,6"/>
                                                <RadioButton Name="MergeReencodeModeRadio"
                                                             Content="ðŸŽ¬ é‡æ–°ç¼–ç åˆå¹¶ï¼ˆä½¿ç”¨å…¨å±€è¾“å‡ºè®¾ç½®ï¼Œå…¼å®¹ä¸åŒè§„æ ¼çš„ç´ æï¼‰"
                                                             Checked="MergeOptionRadio_Checked"/>
                                            </StackPanel>
                                            
                        <TextBlock Text="æœ€ç»ˆçš„è¾“å‡ºæ ¼å¼ã€ç¼–ç ã€æ¯”ç‰¹çŽ‡ç­‰æ²¿ç”¨å³ä¾§â€œè¾“å‡ºè®¾ç½®â€åŒºåŸŸï¼Œå¯åœ¨é‚£è¾¹æŒ‘é€‰ H.264/H.265ã€éŸ³é¢‘ç¼–ç åŠè‡ªå®šä¹‰å‚æ•°ã€‚" FontSize="12" TextWrapping="Wrap" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,12"/>
                                            
                                            <TextBlock Text="FFmpeg å‘½ä»¤é¢„è§ˆ" FontSize="13" Margin="0,0,0,6"/>
                                            <Border Background="{DynamicResource Brush.DarkBorder}" Padding="10" CornerRadius="4">
                                                <ScrollViewer HorizontalScrollBarVisibility="Auto">
                                                    <TextBlock Name="TxtMergeCommandPreview"
                                                               Text="è¯·é€‰æ‹©è‡³å°‘ä¸¤ä¸ªæ–‡ä»¶åŽï¼Œå°†æ˜¾ç¤ºå‘½ä»¤ç¤ºä¾‹"
                                                               FontFamily="Consolas"
                                                               FontSize="12"
                                                               Foreground="{DynamicResource Brush.ButtonSuccess}"
                                                               TextWrapping="Wrap"/>
                                                </ScrollViewer>
                                            </Border>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,16">
                                        <Button Name="BtnMergeStart"
                                                Content="ðŸš€ å¼€å§‹åˆå¹¶"
                                                Height="42"
                                                Width="160"
                                                Style="{StaticResource ButtonSuccessStyle}"
                                                FontSize="14"
                                                Click="BtnMergeStart_Click"
                                                Margin="0,0,12,0"/>
                                        <TextBlock Text="è‹¥å¼€å¯â€œé€šè¿‡å‘½ä»¤æç¤ºç¬¦æ‰§è¡Œâ€ï¼Œå°†ä»…ç”Ÿæˆå‘½ä»¤å’Œ concat åˆ—è¡¨æ–‡ä»¶ï¼Œä¾›æ‰‹åŠ¨è¿è¡Œã€‚" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" VerticalAlignment="Center" Width="420" TextWrapping="Wrap"/>
                                    </StackPanel>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ4ï¼šè½¬ç  ==================== -->
                        <TabItem Header=" ðŸ”„ è½¬ç ">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- è½¬ç æ¨¡å¼ -->
                                    <GroupBox Header="ðŸŽ¬ è½¬ç æ¨¡å¼" Margin="0,0,0,12" FontSize="13">
                                        <UniformGrid Rows="2" Columns="2" Margin="6">
                                            <RadioButton Content="âš¡ å¿«é€Ÿ" Name="RadioFastTranscode" IsChecked="True" FontSize="11" Margin="4,6" ToolTip="ä½¿ç”¨ -c copyï¼Œé€Ÿåº¦å¿«"/>
                                            <RadioButton Content="ðŸŽ¯ æ ‡å‡†" Name="RadioStandardTranscode" FontSize="11" Margin="4,6" ToolTip="H.264 + AACï¼Œå…¼å®¹æ€§å¥½"/>
                                            <RadioButton Content="ðŸ† é«˜è´¨é‡" Name="RadioHighQualityTranscode" FontSize="11" Margin="4,6" ToolTip="ä½Ž CRFï¼Œæ–‡ä»¶è¾ƒå¤§"/>
                                            <RadioButton Content="ðŸ’¾ åŽ‹ç¼©" Name="RadioCompressTranscode" FontSize="11" Margin="4,6" ToolTip="H.265ï¼Œä½“ç§¯å°"/>
                                        </UniformGrid>
                                    </GroupBox>
                                    
                                    <!-- è¾“å‡ºæ ¼å¼ -->
                                    <GroupBox Header="ðŸ“¦ è¾“å‡ºæ ¼å¼" Margin="0,0,0,12" FontSize="13">
                                        <StackPanel Margin="8">
                                            <TextBlock Text="è§†é¢‘æ ¼å¼" FontSize="12" Margin="0,8,0,4"/>
                                            <ComboBox Name="cboTranscodeFormat" SelectedIndex="0" FontSize="13" Height="30">
                                                <ComboBoxItem Content="MP4 (æŽ¨è)"/>
                                                <ComboBoxItem Content="MKV"/>
                                                <ComboBoxItem Content="AVI"/>
                                                <ComboBoxItem Content="MOV"/>
                                                <ComboBoxItem Content="WMV"/>
                                                <ComboBoxItem Content="FLV"/>
                                                <ComboBoxItem Content="WebM"/>
                                                <ComboBoxItem Content="M4V"/>
                                                <ComboBoxItem Content="MPG"/>
                                                <ComboBoxItem Content="MPEG"/>
                                                <ComboBoxItem Content="TS"/>
                                                <ComboBoxItem Content="M2TS"/>
                                            </ComboBox>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- ç¼–ç è®¾ç½® -->
                                    <GroupBox Header="ðŸŽ›ï¸ ç¼–ç è®¾ç½®" Margin="0,0,0,12" FontSize="13">
                                        <Grid Margin="8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="10"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="è§†é¢‘ç¼–ç å™¨" FontSize="11" Margin="0,6,0,4"/>
                                                <ComboBox Name="cboVideoCodec" SelectedIndex="0" FontSize="12" Height="28">
                                                    <ComboBoxItem Content="H.264 / AVC"/>
                                                    <ComboBoxItem Content="H.265 / HEVC"/>
                                                    <ComboBoxItem Content="VP9"/>
                                                    <ComboBoxItem Content="AV1"/>
                                                    <ComboBoxItem Content="å¤åˆ¶åŽŸç¼–ç "/>
                                                </ComboBox>
                                            </StackPanel>
                                            
                                            <StackPanel Grid.Column="2">
                                                <TextBlock Text="éŸ³é¢‘ç¼–ç å™¨" FontSize="11" Margin="0,6,0,4"/>
                                                <ComboBox Name="cboAudioCodec" SelectedIndex="0" FontSize="12" Height="28">
                                                    <ComboBoxItem Content="AAC (æŽ¨è)"/>
                                                    <ComboBoxItem Content="MP3"/>
                                                    <ComboBoxItem Content="Opus"/>
                                                    <ComboBoxItem Content="Vorbis"/>
                                                    <ComboBoxItem Content="å¤åˆ¶åŽŸç¼–ç "/>
                                                </ComboBox>
                                            </StackPanel>
                                        </Grid>
                                    </GroupBox>
                                    
                                    <!-- è´¨é‡æŽ§åˆ¶ -->
                                    <GroupBox Header="ðŸŽ¯ è´¨é‡æŽ§åˆ¶" Margin="0,0,0,12" FontSize="13">
                                        <StackPanel Margin="8">
                                            <TextBlock Text="è§†é¢‘è´¨é‡ (CRF)" FontSize="12" Margin="0,8,0,4"/>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderTranscodeCRF" Minimum="18" Maximum="28" Value="23" TickFrequency="1" Height="24" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderTranscodeCRF, Path=Value, StringFormat={}{0:F0}}" FontSize="12" Height="28" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                            <TextBlock Text="18=æžé«˜è´¨é‡(å¤§æ–‡ä»¶) | 23=æŽ¨è | 28=è¾ƒä½Žè´¨é‡(å°æ–‡ä»¶)" FontSize="10" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,4,0,0"/>
                                            
                                            <TextBlock Text="éŸ³é¢‘æ¯”ç‰¹çŽ‡" FontSize="12" Margin="0,12,0,4"/>
                                            <ComboBox Name="cboTranscodeBitrate" SelectedIndex="2" FontSize="13" Height="30">
                                                <ComboBoxItem Content="128 kbps"/>
                                                <ComboBoxItem Content="192 kbps"/>
                                                <ComboBoxItem Content="256 kbps (æŽ¨è)"/>
                                                <ComboBoxItem Content="320 kbps"/>
                                            </ComboBox>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- é«˜çº§é€‰é¡¹ -->
                                    <GroupBox Header="âš™ï¸ é«˜çº§é€‰é¡¹" Margin="0,0,0,12" FontSize="13">
                                        <StackPanel Margin="8">
                                            <CheckBox Name="CheckBoxDualPassTranscode" Content="åŒé€šé“ç¼–ç ï¼ˆæ›´é«˜è´¨é‡ï¼‰" FontSize="12" Margin="0,8,0,4"/>
                                            <CheckBox Name="CheckBoxHardwareAccelTranscode" Content="ç¡¬ä»¶åŠ é€Ÿï¼ˆGPUç¼–ç ï¼‰" FontSize="12" Margin="0,4"/>
                                            <CheckBox Name="CheckBoxKeepMetadataTranscode" Content="ä¿ç•™å…ƒæ•°æ®" IsChecked="True" FontSize="12" Margin="0,4"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ“ä½œæŒ‰é’® -->
                                    <Button Name="BtnStartTranscode" Content="ðŸ”„ å¼€å§‹è½¬ç " Height="36" Margin="0,4,0,0" FontSize="13" FontWeight="Bold" Style="{StaticResource ButtonOrangeStyle}" Cursor="Hand" Click="BtnStartTranscode_Click"/>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ5ï¼šæ°´å° ==================== -->
                        <TabItem Header=" ðŸŽ¨ æ°´å°">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- æ°´å°ç±»åž‹é€‰æ‹© -->
                                    <GroupBox Header="ðŸ’§ æ°´å°ç±»åž‹" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <UniformGrid Rows="1" Columns="3" Margin="12">
                                            <RadioButton Content="ðŸš« æ— " IsChecked="True" FontSize="13" Margin="4,8" HorizontalAlignment="Center"/>
                                            <RadioButton Content="ðŸ–¼ï¸ å›¾ç‰‡" Name="RadioImageWatermark" FontSize="13" Margin="4,8" HorizontalAlignment="Center"/>
                                            <RadioButton Content="ðŸ“ æ–‡å­—" Name="RadioTextWatermark" FontSize="13" Margin="4,8" HorizontalAlignment="Center"/>
                                        </UniformGrid>
                                    </GroupBox>
                                    
                                    <!-- å›¾ç‰‡æ°´å°è®¾ç½® -->
                                    <GroupBox Header="ðŸ–¼ï¸ å›¾ç‰‡æ°´å°è®¾ç½®" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="æ°´å°å›¾ç‰‡è·¯å¾„" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBox Grid.Column="0" Name="txtWatermarkImagePath" Text="watermark.png" FontSize="12" Height="32" VerticalContentAlignment="Center"/>
                                                <Button Grid.Column="1" Content="ðŸ“ æµè§ˆ" Name="BrowseWatermarkImageButton" Width="80" Height="32" Margin="8,0,0,0" FontSize="12" Click="BrowseWatermarkImageButton_Click"/>
                                            </Grid>
                                            
                                            <TextBlock Text="é€æ˜Žåº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderImageOpacity" Minimum="0" Maximum="100" Value="80" TickFrequency="10" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderImageOpacity, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" IsReadOnly="True" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ–‡å­—æ°´å°è®¾ç½® -->
                                    <GroupBox Header="ðŸ“ æ–‡å­—æ°´å°è®¾ç½®" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="æ°´å°æ–‡å­—" FontSize="13" Margin="0,0,0,6"/>
                                            <TextBox Name="txtWatermarkText" Text="Watermark Text" FontSize="12" Height="32" VerticalContentAlignment="Center" Margin="0,0,0,12"/>
                                            
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="å­—ä½“å¤§å°" FontSize="13" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Name="txtFontSize" Text="24" MaxLength="3" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Text="é¢œè‰²" FontSize="13" Margin="16,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="3" Name="txtTextColor" Text="white" FontSize="12" Height="32" VerticalContentAlignment="Center" Margin="0,0,4,0"/>
                                                <Button Grid.Column="4" Content="ðŸŽ¨" Name="SelectTextColorButton" Width="40" Height="32" FontSize="14" ToolTip="é€‰æ‹©é¢œè‰²" Click="SelectTextColorButton_Click"/>
                                            </Grid>
                                            
                                            <TextBlock Text="é€æ˜Žåº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderTextOpacity" Minimum="0" Maximum="100" Value="80" TickFrequency="10" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderTextOpacity, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" IsReadOnly="True" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- ä½ç½®è®¾ç½® -->
                                    <GroupBox Header="ðŸ“ ä½ç½®è®¾ç½®" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="å¿«é€Ÿå®šä½" FontSize="13" Margin="0,0,0,6"/>
                                            <UniformGrid Rows="3" Columns="3" Margin="0,0,0,12">
                                                <Button Content="â†–" Name="PositionTopLeftButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="å·¦ä¸Šè§’" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â†‘" Name="PositionTopCenterButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="é¡¶éƒ¨å±…ä¸­" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â†—" Name="PositionTopRightButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="å³ä¸Šè§’" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â†" Name="PositionMiddleLeftButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="å·¦ä¾§å±…ä¸­" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â—" Name="PositionCenterButton" Height="32" Margin="4" FontWeight="Bold" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="ç”»é¢ä¸­å¿ƒ" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â†’" Name="PositionMiddleRightButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="å³ä¾§å±…ä¸­" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â†™" Name="PositionBottomLeftButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="å·¦ä¸‹è§’" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â†“" Name="PositionBottomCenterButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="åº•éƒ¨å±…ä¸­" Click="WatermarkPositionButton_Click"/>
                                                <Button Content="â†˜" Name="PositionBottomRightButton" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="å³ä¸‹è§’" Click="WatermarkPositionButton_Click"/>
                                            </UniformGrid>
                                            
                                            <TextBlock Text="ç²¾ç¡®åæ ‡" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="X:" FontSize="13" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Name="txtWatermarkX" Text="10" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Text="Y:" FontSize="13" Margin="16,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="3" Name="txtWatermarkY" Text="10" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ“ä½œæŒ‰é’® -->
                                    <Button Content="âœ“ æ·»åŠ æ°´å°" Name="AddWatermarkButton" Height="36" Margin="0,0,0,16" FontSize="13" FontWeight="Bold" Style="{StaticResource ButtonSuccessStyle}" Cursor="Hand" Click="AddWatermarkButton_Click"/>
                                    
                                    <!-- ç§»é™¤æ°´å° -->
                                    <GroupBox Header="ðŸ—‘ï¸ ç§»é™¤æ°´å°" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="æŒ‡å®šç§»é™¤åŒºåŸŸï¼ˆæ¨¡ç³ŠåŒ–å¤„ç†ï¼‰" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10" TextWrapping="Wrap"/>
                                            <!-- X/Y/W/H ä¸€è¡Œæ˜¾ç¤º -->
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="28"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="28"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="28"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="28"/>
                                                    <ColumnDefinition Width="70"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="X:" FontSize="13" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Name="txtRemoveX" Text="0" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Text="Y:" FontSize="13" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="3" Name="txtRemoveY" Text="0" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="4" Text="W:" FontSize="13" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="5" Name="txtRemoveW" Text="100" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="6" Text="H:" FontSize="13" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="7" Name="txtRemoveH" Text="50" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                            </Grid>
                                            
                                            <Button Content="ðŸ—‘ï¸ ç§»é™¤æ°´å°" Name="RemoveWatermarkButton" Height="32" Margin="0,0,0,0" FontSize="12" Style="{StaticResource ButtonDangerOutlineStyle}" Click="RemoveWatermarkButton_Click"/>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ6ï¼šå­—å¹• ==================== -->
                        <TabItem Header=" ðŸ”¤ å­—å¹•">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- å­—å¹•æ–‡ä»¶ -->
                                    <GroupBox Header="ðŸ“„ å­—å¹•æ–‡ä»¶" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBox Name="SubtitlePathBox" Text="" FontSize="12" Height="32" VerticalContentAlignment="Center" Padding="8,0" IsReadOnly="True" Background="{DynamicResource Brush.InputReadOnlyBackground}"/>
                                                <Button Grid.Column="1" Name="BtnBrowseSubtitle" Content="ðŸ“‚ æµè§ˆ" Width="80" Height="32" Margin="8,0,0,0" FontSize="12" Click="BtnBrowseSubtitle_Click"/>
                                            </Grid>
                                            <TextBlock Text="æ”¯æŒæ ¼å¼: .srt, .ass, .ssa, .vtt" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,8,0,0"/>
                                            <CheckBox Name="chkShowSubtitlePreview" Content="æ˜¾ç¤ºå­—å¹•é¢„è§ˆ" IsChecked="False" FontSize="13" Margin="0,12,0,0" Checked="ChkShowSubtitlePreview_Checked" Unchecked="ChkShowSubtitlePreview_Unchecked"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- å­—å¹•æ ·å¼ -->
                                    <GroupBox Header="ðŸŽ¨ å­—å¹•æ ·å¼" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <!-- å­—ä½“è®¾ç½® -->
                                            <TextBlock Text="å­—ä½“" FontSize="13" Margin="0,0,0,6"/>
                                            <ComboBox Name="cboSubtitleFont" SelectedIndex="0" FontSize="12" Height="32" Margin="0,0,0,12">
                                                <ComboBoxItem Content="å¾®è½¯é›…é»‘"/>
                                                <ComboBoxItem Content="å®‹ä½“"/>
                                                <ComboBoxItem Content="é»‘ä½“"/>
                                                <ComboBoxItem Content="Arial"/>
                                                <ComboBoxItem Content="æ€æºé»‘ä½“"/>
                                                <ComboBoxItem Content="æ€æºå®‹ä½“"/>
                                            </ComboBox>
                                            
                                            <!-- å­—å·å’Œé¢œè‰² -->
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="å­—å·" FontSize="13" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Name="txtSubtitleSize" Text="24" MaxLength="3" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Text="é¢œè‰²" FontSize="13" Margin="16,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="3" Name="txtSubtitleColor" Text="white" FontSize="12" Height="32" VerticalContentAlignment="Center" Padding="8,0" Margin="0,0,4,0"/>
                                                <Button Grid.Column="4" Name="BtnSubtitleColorPicker" Content="ðŸŽ¨" Width="40" Height="32" FontSize="14" ToolTip="é€‰æ‹©é¢œè‰²" Click="BtnSubtitleColorPicker_Click"/>
                                            </Grid>
                                            
                                            <!-- ä½ç½® -->
                                            <TextBlock Text="ä½ç½®" FontSize="13" Margin="0,0,0,6"/>
                                            <ComboBox Name="cboSubtitlePosition" SelectedIndex="2" FontSize="12" Height="32" Margin="0,0,0,12">
                                                <ComboBoxItem Content="é¡¶éƒ¨"/>
                                                <ComboBoxItem Content="å±…ä¸­"/>
                                                <ComboBoxItem Content="åº•éƒ¨"/>
                                            </ComboBox>
                                            
                                            <!-- å­—å¹•è¾¹æ¡†å’Œé˜´å½± -->
                                            <TextBlock Text="æè¾¹å®½åº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderSubtitleOutline" Minimum="0" Maximum="5" Value="2" TickFrequency="0.5" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderSubtitleOutline, Path=Value, StringFormat={}{0:F1}px}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                            
                                            <CheckBox Name="chkSubtitleShadow" Content="å¯ç”¨é˜´å½±æ•ˆæžœ" IsChecked="True" FontSize="13" Margin="0,0,0,0"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- å­—å¹•æ—¶é—´è°ƒæ•´ -->
                                    <GroupBox Header="â±ï¸ æ—¶é—´è°ƒæ•´" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="å­—å¹•åç§» (ç§’)" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderSubtitleOffset" Minimum="-10" Maximum="10" Value="0" TickFrequency="0.5" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderSubtitleOffset, Path=Value, StringFormat={}{0:F1}s}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- åº”ç”¨æŒ‰é’® -->
                                    <Button Name="BtnApplySubtitle" Content="âœ“ åº”ç”¨å­—å¹•è®¾ç½®" Height="36" Margin="0,0,0,16" FontSize="13" FontWeight="Bold" Style="{StaticResource ButtonSuccessStyle}" Cursor="Hand" Click="BtnApplySubtitle_Click"/>
                                    
                                    <!-- æ‰¹é‡AIå­—å¹• -->
                                    <GroupBox Header="ðŸ¤– æ‰¹é‡ AI å­—å¹•" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <!-- ä»»åŠ¡åˆ—è¡¨ -->
                                            <TextBlock Text="ä»»åŠ¡é˜Ÿåˆ—" FontSize="13" Margin="0,0,0,8" FontWeight="SemiBold"/>
                                            <Border BorderBrush="{DynamicResource Brush.PanelBorder}" BorderThickness="1" CornerRadius="4" MaxHeight="300" Background="{DynamicResource Brush.PanelBackground}">
                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                    <ItemsControl Name="BatchSubtitleTasksList" ItemsSource="{Binding BatchSubtitleCoordinator.Tasks}">
                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate>
                                                                <Border BorderBrush="{DynamicResource Brush.PanelBorder}" BorderThickness="0,0,0,1" Padding="8,6" Background="{DynamicResource Brush.PanelAltBackground}">
                                                                    <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="*"/>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <StackPanel Grid.Column="0">
                                                                            <TextBlock Text="{Binding SourceFileName, Mode=OneWay}" FontSize="12" FontWeight="SemiBold" Foreground="{DynamicResource Brush.TextPrimary}"/>
                                                                            <TextBlock FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,2,0,0">
                                                                                <Run Text="{Binding ProviderText, Mode=OneWay}"/>
                                                                                <Run Text=" | "/>
                                                                                <Run Text="{Binding StatusText, Mode=OneWay}"/>
                                                                            </TextBlock>
                                                                            <TextBlock FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,2,0,0" Visibility="{Binding ClipName, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">
                                                                                <Run Text="ç‰‡æ®µ: "/>
                                                                                <Run Text="{Binding ClipName, Mode=OneWay}"/>
                                                                            </TextBlock>
                                                                            <ProgressBar Value="{Binding Progress, Mode=OneWay}" Maximum="100" Height="4" Margin="0,4,0,0" Foreground="{DynamicResource Brush.AccentPrimary}"/>
                                                                        </StackPanel>
                                                                        <TextBlock Grid.Column="1" Text="{Binding Progress, Mode=OneWay, StringFormat={}{0:F0}%}" FontSize="11" VerticalAlignment="Center" Margin="8,0" Foreground="{DynamicResource Brush.TextSecondary}"/>
                                                                        <Button Grid.Column="2" Content="âœ•" Width="24" Height="24" Padding="0" FontSize="10" 
                                                                                Click="RemoveBatchSubtitleTask_Click"
                                                                                Tag="{Binding}"
                                                                                ToolTip="ç§»é™¤ä»»åŠ¡">
                                                                            <Button.Style>
                                                                                <Style TargetType="Button" BasedOn="{StaticResource ButtonDangerOutlineStyle}">
                                                                                    <Setter Property="IsEnabled" Value="True"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding Status}" Value="Processing">
                                                                                            <Setter Property="IsEnabled" Value="False"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </Button.Style>
                                                                        </Button>
                                                                    </Grid>
                                                                </Border>
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                    </ItemsControl>
                                                </ScrollViewer>
                                            </Border>
                                            
                                            <!-- ç»Ÿè®¡ä¿¡æ¯ -->
                                            <Grid Margin="0,8,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="{Binding BatchSubtitleCoordinator.TotalCount, Mode=OneWay, StringFormat='æ€»æ•°: {0}'}" FontSize="12" Foreground="{DynamicResource Brush.TextSecondary}"/>
                                                <TextBlock Grid.Column="1" Text="{Binding BatchSubtitleCoordinator.CompletedCount, Mode=OneWay, StringFormat='å·²å®Œæˆ: {0}'}" FontSize="12" Foreground="{DynamicResource Brush.TextSecondary}"/>
                                                <TextBlock Grid.Column="2" Text="{Binding BatchSubtitleCoordinator.FailedCount, Mode=OneWay, StringFormat='å¤±è´¥: {0}'}" FontSize="12" Foreground="{DynamicResource Brush.TextSecondary}"/>
                                            </Grid>
                                            
                                            <!-- æ“ä½œæŒ‰é’® -->
                                            <Grid Margin="0,0,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Button Grid.Column="0" Name="BtnAddBatchSubtitleFromPlaylist" Content="ðŸ“‹ ä»Žæ’­æ”¾åˆ—è¡¨æ·»åŠ " Height="32" Margin="0,0,4,0" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnAddBatchSubtitleFromPlaylist_Click"/>
                                                <Button Grid.Column="1" Name="BtnAddBatchSubtitleFromClips" Content="âœ‚ï¸ ä»Žå‰ªè¾‘æ·»åŠ " Height="32" Margin="4,0,4,0" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnAddBatchSubtitleFromClips_Click"/>
                                                <Button Grid.Column="2" Name="BtnStartBatchSubtitle" Content="â–¶ï¸ å¼€å§‹ç”Ÿæˆ" Height="32" Margin="4,0,0,0" FontSize="12" Style="{StaticResource ButtonSuccessStyle}" 
                                                        Click="BtnStartBatchSubtitle_Click"
                                                        IsEnabled="{Binding BatchSubtitleCoordinator.IsProcessing, Mode=OneWay, Converter={StaticResource InverseBooleanConverter}}"/>
                                            </Grid>
                                            
                                            <Grid Margin="0,0,0,8">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Button Grid.Column="0" Name="BtnCancelBatchSubtitle" Content="â¹ï¸ å–æ¶ˆ" Height="32" Margin="0,0,4,0" FontSize="12" Style="{StaticResource ButtonDangerOutlineStyle}" 
                                                        Click="BtnCancelBatchSubtitle_Click"
                                                        IsEnabled="{Binding BatchSubtitleCoordinator.IsProcessing, Mode=OneWay}"/>
                                                <Button Grid.Column="1" Name="BtnClearBatchSubtitleTasks" Content="ðŸ—‘ï¸ æ¸…ç©ºé˜Ÿåˆ—" Height="32" Margin="4,0,0,0" FontSize="12" Style="{StaticResource ButtonWarningOutlineStyle}" 
                                                        Click="BtnClearBatchSubtitleTasks_Click"
                                                        IsEnabled="{Binding BatchSubtitleCoordinator.IsProcessing, Mode=OneWay, Converter={StaticResource InverseBooleanConverter}}"/>
                                            </Grid>
                                            
                                            <!-- è¿›åº¦æ¡ -->
                                            <TextBlock Text="æ€»ä½“è¿›åº¦" FontSize="12" Margin="0,0,0,4" Foreground="{DynamicResource Brush.TextSecondary}"/>
                                            <ProgressBar Value="{Binding BatchSubtitleCoordinator.OverallProgress, Mode=OneWay}" Maximum="100" Height="8" Foreground="{DynamicResource Brush.AccentPrimary}" Margin="0,0,0,8"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- ä½¿ç”¨è¯´æ˜Ž -->
                                    <GroupBox Header="ðŸ’¡ ä½¿ç”¨è¯´æ˜Ž" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <Border Background="{DynamicResource Brush.ButtonLightBlue}" BorderBrush="{DynamicResource Brush.AccentPrimary}" BorderThickness="1" CornerRadius="4" Padding="10,8" Margin="0,0,0,8">
                                                <StackPanel>
                                                    <TextBlock Text="ðŸ“Œ é‡è¦æç¤º" FontSize="13" FontWeight="Bold" Foreground="{DynamicResource Brush.AccentPrimary}" Margin="0,0,0,4"/>
                                                    <TextBlock Text="ç³»ç»Ÿå·²è‡ªåŠ¨ç¦ç”¨VLCæ’­æ”¾å™¨çš„è‡ªåŠ¨å­—å¹•åŠ è½½åŠŸèƒ½ï¼Œä»¥ä¾¿æ˜¾ç¤ºæœ¬å·¥å…·çš„å­—å¹•é¢„è§ˆæ•ˆæžœã€‚å¦‚æžœè§†é¢‘å’Œå­—å¹•æ–‡ä»¶åŒåä¸”åœ¨åŒä¸€ä¸ªç›®å½•ï¼ŒVLCé»˜è®¤ä¼šè‡ªåŠ¨æ˜¾ç¤ºå­—å¹•ï¼ŒçŽ°åœ¨å·²ç¦ç”¨æ­¤åŠŸèƒ½ã€‚" FontSize="12" Foreground="{DynamicResource Brush.TextPrimary}" TextWrapping="Wrap" LineHeight="18"/>
                                                </StackPanel>
                                            </Border>
                                            <TextBlock Text="â€¢ æ”¯æŒå¯¼å…¥å¤–æŒ‚å­—å¹•æ–‡ä»¶,å¸¸è§æ ¼å¼åŒ…æ‹¬ SRTã€ASSã€SSAã€VTT" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ é€‰æ‹©å­—å¹•æ–‡ä»¶åŽï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœ¨æ’­æ”¾å™¨ä¸­æ˜¾ç¤ºå­—å¹•é¢„è§ˆ" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ è°ƒæ•´æ ·å¼å‚æ•°ï¼ˆå­—ä½“ã€é¢œè‰²ã€ä½ç½®ç­‰ï¼‰å¯å®žæ—¶é¢„è§ˆæ•ˆæžœ" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ å­—å¹•åç§»ç”¨äºŽè°ƒæ•´å­—å¹•æ—¶é—´è½´,è´Ÿå€¼æå‰,æ­£å€¼å»¶è¿Ÿ" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ æè¾¹å’Œé˜´å½±å¯ä»¥æé«˜å­—å¹•åœ¨å„ç§èƒŒæ™¯ä¸‹çš„å¯è¯»æ€§" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ FFmpegå‚æ•°ï¼šä½¿ç”¨subtitlesæ»¤é•œçƒ§å½•å­—å¹•åˆ°è§†é¢‘" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,8,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ7ï¼šç¿»è½¬ ==================== -->
                        <TabItem Header=" ðŸ”„ ç¿»è½¬">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- ç¿»è½¬æ–¹å‘ -->
                                    <GroupBox Header="ðŸ”„ ç¿»è½¬æ–¹å‘" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="é€‰æ‹©è§†é¢‘ç¿»è½¬æ–¹å¼" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                            <UniformGrid Rows="2" Columns="2">
                                                <Button Name="BtnFlipHorizontal" Content="â†”ï¸ æ°´å¹³ç¿»è½¬" Height="50" Margin="4" FontSize="13" Style="{StaticResource ButtonInfoStyle}" ToolTip="å·¦å³é•œåƒ (hflip)" Click="BtnFlipHorizontal_Click"/>
                                                <Button Name="BtnFlipVertical" Content="â†•ï¸ åž‚ç›´ç¿»è½¬" Height="50" Margin="4" FontSize="13" Style="{StaticResource ButtonInfoStyle}" ToolTip="ä¸Šä¸‹é•œåƒ (vflip)" Click="BtnFlipVertical_Click"/>
                                                <Button Name="BtnFlipBoth" Content="ðŸ”ƒ æ°´å¹³+åž‚ç›´" Height="50" Margin="4" FontSize="13" Style="{StaticResource ButtonWarningStyle}" ToolTip="åŒæ—¶æ°´å¹³å’Œåž‚ç›´ç¿»è½¬" Click="BtnFlipBoth_Click"/>
                                                <Button Name="BtnFlipNone" Content="ðŸš« å–æ¶ˆç¿»è½¬" Height="50" Margin="4" FontSize="13" Style="{StaticResource ButtonDangerOutlineStyle}" ToolTip="æ¢å¤åŽŸå§‹çŠ¶æ€" Click="BtnFlipNone_Click"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ—‹è½¬ -->
                                    <GroupBox Header="ðŸ” æ—‹è½¬" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="æ—‹è½¬è§’åº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <UniformGrid Rows="2" Columns="2" Margin="0,0,0,12">
                                                <Button Name="BtnRotate270" Content="â†¶ é€†æ—¶é’ˆ 90Â°" Height="40" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoStyle}" ToolTip="transpose=1 (é€†æ—¶é’ˆæ—‹è½¬90åº¦ï¼Œå¸¸ç”¨äºŽæ ¡æ­£ç«–å±è§†é¢‘)" Click="BtnRotate270_Click"/>
                                                <Button Name="BtnRotate90" Content="â†· é¡ºæ—¶é’ˆ 90Â°" Height="40" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoStyle}" ToolTip="transpose=2 (é¡ºæ—¶é’ˆæ—‹è½¬90åº¦)" Click="BtnRotate90_Click"/>
                                                <Button Name="BtnRotate180" Content="â†» 180Â°" Height="40" Margin="4" FontSize="12" Style="{StaticResource ButtonWarningStyle}" ToolTip="transpose=2,transpose=2 (æ—‹è½¬180åº¦)" Click="BtnRotate180_Click"/>
                                                <Button Name="BtnRotateAuto" Content="â­• è‡ªåŠ¨æ£€æµ‹" Height="40" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="transpose=1 (æ ¹æ®è§†é¢‘å…ƒæ•°æ®è‡ªåŠ¨æ—‹è½¬)" Click="BtnRotateAuto_Click"/>
                                            </UniformGrid>
                                            
                                            <TextBlock Text="è‡ªå®šä¹‰è§’åº¦ï¼ˆä»…æ”¯æŒ90åº¦çš„å€æ•°ï¼‰" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="100"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderRotateAngle" Minimum="0" Maximum="360" Value="0" TickFrequency="90" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderRotateAngle, Path=Value, StringFormat={}{0:F0}Â°}" FontSize="12" Height="32" IsReadOnly="True" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Margin="8,0,0,0"/>
                                                <Button Name="BtnApplyCustomRotate" Grid.Column="2" Content="âœ“ åº”ç”¨" Height="32" Width="70" Margin="8,0,0,0" FontSize="12" Style="{StaticResource ButtonSuccessStyle}" Click="BtnApplyCustomRotate_Click"/>
                                            </Grid>
                                            <TextBlock Text="ðŸ’¡ æç¤º: è‡ªå®šä¹‰è§’åº¦ä¼šè‡ªåŠ¨è°ƒæ•´ä¸ºæœ€æŽ¥è¿‘çš„90åº¦å€æ•°" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,6,0,0"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- è½¬ç½® -->
                                    <GroupBox Header="ðŸ“ è½¬ç½® (Transpose)" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="è½¬ç½®æ“ä½œ (é«˜çº§)" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                            <UniformGrid Rows="2" Columns="2">
                                                <Button Name="BtnTranspose0" Content="â¤µï¸ Transpose 0" Height="36" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="é¡ºæ—¶é’ˆ90Â°+åž‚ç›´ç¿»è½¬" Click="BtnTranspose0_Click"/>
                                                <Button Name="BtnTranspose1" Content="â¤´ï¸ Transpose 1" Height="36" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="é€†æ—¶é’ˆ90Â°" Click="BtnTranspose1_Click"/>
                                                <Button Name="BtnTranspose2" Content="â¤´ï¸ Transpose 2" Height="36" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="é¡ºæ—¶é’ˆ90Â°" Click="BtnTranspose2_Click"/>
                                                <Button Name="BtnTranspose3" Content="â¤µï¸ Transpose 3" Height="36" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="é€†æ—¶é’ˆ90Â°+åž‚ç›´ç¿»è½¬" Click="BtnTranspose3_Click"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- é¢„è§ˆæŽ§åˆ¶ä¸Žè¯´æ˜Ž -->
                                    <GroupBox Header="ðŸ–¼ï¸ é¢„è§ˆæŽ§åˆ¶" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Name="TxtFlipPreviewDescription" Text="å½“å‰: æ— å˜æ¢" FontSize="12" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,6"/>
                                            <Button Name="BtnUpdatePreview" Content="ðŸ”„ é‡æ–°æŠ“å–å½“å‰å¸§" Height="32" Margin="0,4,0,0" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnUpdatePreview_Click" ToolTip="æš‚åœæ’­æ”¾å™¨å¹¶æˆªå–å½“å‰ç”»é¢ï¼Œæ›´æ–°å›¾ç‰‡é¢„è§ˆ"/>
                                            <TextBlock Text="ðŸ’¡ é¢„è§ˆä¼šåœ¨æ’­æ”¾å™¨ä¸Šæ–¹çš„â€œå›¾ç‰‡é¢„è§ˆâ€å®¹å™¨ä¸­æ˜¾ç¤ºï¼Œå¯é€šè¿‡æ’­æ”¾å™¨åŒºåŸŸå³ä¸Šè§’çš„åˆ‡æ¢æŒ‰é’®åœ¨æ’­æ”¾å™¨/å›¾ç‰‡/å‘½ä»¤æç¤ºç¬¦ä¹‹é—´åˆ‡æ¢ã€‚" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,6,0,0" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- FFmpeg å‘½ä»¤é¢„è§ˆ -->
                                    <GroupBox Header="âš™ï¸ FFmpeg å‘½ä»¤é¢„è§ˆ" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="å½“å‰å°†åº”ç”¨çš„æ»¤é•œå‚æ•°:" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,6"/>
                                            <Border Background="{DynamicResource Brush.LogSecondaryBackground}" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                                                <TextBlock Name="TxtFlipCommandPreview" Text="æ— å˜æ¢" FontFamily="Consolas" FontSize="12" Foreground="{DynamicResource Brush.ButtonSuccess}" TextWrapping="Wrap"/>
                                            </Border>
                                            <TextBlock Text="ðŸ’¡ æç¤º: ç¿»è½¬å’Œæ—‹è½¬å¯ä»¥ç»„åˆä½¿ç”¨" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,0"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- ä½¿ç”¨è¯´æ˜Ž -->
                                    <GroupBox Header="ðŸ’¡ ä½¿ç”¨è¯´æ˜Ž" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="â€¢ æ°´å¹³ç¿»è½¬ (hflip): åˆ›å»ºé•œåƒæ•ˆæžœ,å·¦å³å¯¹è°ƒ" FontSize="12" Margin="0,4"/>
                                            <TextBlock Text="â€¢ åž‚ç›´ç¿»è½¬ (vflip): ä¸Šä¸‹é¢ å€’ç”»é¢" FontSize="12" Margin="0,4"/>
                                            <TextBlock Text="â€¢ æ—‹è½¬: å¸¸ç”¨äºŽä¿®æ­£æ‰‹æœºç«–æ‹è§†é¢‘æ–¹å‘" FontSize="12" Margin="0,4"/>
                                            <TextBlock Text="â€¢ è½¬ç½® (Transpose): æ—‹è½¬+ç¿»è½¬çš„ç»„åˆæ“ä½œ,æ•ˆçŽ‡æ›´é«˜" FontSize="12" Margin="0,4"/>
                                            <TextBlock Text="â€¢ è‡ªåŠ¨æ£€æµ‹: è¯»å–è§†é¢‘å…ƒæ•°æ®ä¸­çš„æ—‹è½¬ä¿¡æ¯è‡ªåŠ¨ä¿®æ­£" FontSize="12" Margin="0,4"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- åº”ç”¨æŒ‰é’® -->
                                    <Button Name="BtnApplyFlip" Content="âœ… åº”ç”¨ç¿»è½¬è®¾ç½®" Height="50" FontSize="16" FontWeight="Bold" 
                                            Style="{StaticResource ButtonSuccessStyle}" 
                                            Margin="0,0,0,0" Click="BtnApplyFlip_Click"
                                            ToolTip="å¯¹é€‰ä¸­çš„è§†é¢‘æ–‡ä»¶åº”ç”¨ç¿»è½¬/æ—‹è½¬è®¾ç½®"/>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ8ï¼šæ»¤é•œ ==================== -->
                        <TabItem Header=" ðŸŽ¨ æ»¤é•œ">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- é¢„è®¾æ»¤é•œ -->
                                    <GroupBox Header="âœ¨ é¢„è®¾æ»¤é•œ" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="ä¸€é”®å¥—ç”¨ä¸“ä¸šæ»¤é•œæ•ˆæžœ" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                            <UniformGrid Rows="4" Columns="3" Margin="0,0,0,0">
                                                <Button Name="BtnFilterPresetRetro" Content="ðŸŒ… å¤å¤" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="è€ç…§ç‰‡é£Žæ ¼" Tag="Retro" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetMono" Content="ðŸŒƒ é»‘ç™½" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="ç»å…¸é»‘ç™½" Tag="Monochrome" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetSoft" Content="ðŸŒ¸ æŸ”å’Œ" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="æŸ”å…‰æ•ˆæžœ" Tag="Soft" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetVibrant" Content="ðŸ”¥ é²œè‰³" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonWarningStyle}" ToolTip="é¥±å’Œå¢žå¼º" Tag="Vibrant" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetCool" Content="â„ï¸ å†·è‰²" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoStyle}" ToolTip="å†·è‰²è°ƒ" Tag="Cool" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetWarm" Content="ðŸŒž æš–è‰²" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonOrangeStyle}" ToolTip="æš–è‰²è°ƒ" Tag="Warm" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetCinema" Content="ðŸŽ¬ ç”µå½±" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonPurpleStyle}" ToolTip="ç”µå½±çº§è°ƒè‰²" Tag="Cinema" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetFilm" Content="ðŸ“¸ èƒ¶ç‰‡" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="èƒ¶ç‰‡è´¨æ„Ÿ" Tag="Film" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetRainbow" Content="ðŸŒˆ å½©è™¹" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonPurpleStyle}" ToolTip="å½©è™¹è‰²å½©" Tag="Rainbow" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetMist" Content="ðŸŒ«ï¸ æœ¦èƒ§" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="æœ¦èƒ§æ•ˆæžœ" Tag="Mist" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetSharp" Content="ðŸ’Ž é”åˆ©" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoStyle}" ToolTip="é”åŒ–å¢žå¼º" Tag="Sharp" Click="FilterPresetButton_Click"/>
                                                <Button Name="BtnFilterPresetNone" Content="ðŸš« æ— æ»¤é•œ" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonDangerOutlineStyle}" ToolTip="æ¸…é™¤æ‰€æœ‰æ»¤é•œ" Tag="None" Click="FilterPresetButton_Click"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- è‰²å½©è°ƒæ•´ -->
                                    <GroupBox Header="ðŸŽ¨ è‰²å½©è°ƒæ•´" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <!-- äº®åº¦ -->
                                            <TextBlock Text="äº®åº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderFilterBrightness" Minimum="-100" Maximum="100" Value="0" TickFrequency="10" Height="28" VerticalAlignment="Center" ValueChanged="FilterSlider_ValueChanged" PreviewMouseLeftButtonUp="FilterSlider_MouseLeftButtonUp"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderFilterBrightness, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" IsReadOnly="True" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                            
                                            <!-- å¯¹æ¯”åº¦ -->
                                            <TextBlock Text="å¯¹æ¯”åº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderFilterContrast" Minimum="-100" Maximum="100" Value="0" TickFrequency="10" Height="28" VerticalAlignment="Center" ValueChanged="FilterSlider_ValueChanged" PreviewMouseLeftButtonUp="FilterSlider_MouseLeftButtonUp"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderFilterContrast, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" IsReadOnly="True" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                            
                                            <!-- é¥±å’Œåº¦ -->
                                            <TextBlock Text="é¥±å’Œåº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderFilterSaturation" Minimum="-100" Maximum="100" Value="0" TickFrequency="10" Height="28" VerticalAlignment="Center" ValueChanged="FilterSlider_ValueChanged" PreviewMouseLeftButtonUp="FilterSlider_MouseLeftButtonUp"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderFilterSaturation, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" IsReadOnly="True" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                            
                                            <!-- è‰²æ¸© -->
                                            <TextBlock Text="è‰²æ¸©" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderFilterTemperature" Minimum="-100" Maximum="100" Value="0" TickFrequency="10" Height="28" VerticalAlignment="Center" ValueChanged="FilterSlider_ValueChanged" PreviewMouseLeftButtonUp="FilterSlider_MouseLeftButtonUp"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderFilterTemperature, Path=Value, StringFormat={}{0:F0}}" FontSize="12" Height="32" IsReadOnly="True" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- ç‰¹æ•ˆ -->
                                    <GroupBox Header="âš¡ ç‰¹æ•ˆ" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <!-- æ¨¡ç³Š -->
                                            <TextBlock Text="æ¨¡ç³Š" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderFilterBlur" Minimum="0" Maximum="20" Value="0" TickFrequency="1" Height="28" VerticalAlignment="Center" ValueChanged="FilterSlider_ValueChanged" PreviewMouseLeftButtonUp="FilterSlider_MouseLeftButtonUp"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderFilterBlur, Path=Value, StringFormat={}{0:F0}px}" FontSize="12" Height="32" IsReadOnly="True" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                            
                                            <!-- é”åŒ– -->
                                            <TextBlock Text="é”åŒ–" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderFilterSharpen" Minimum="0" Maximum="10" Value="0" TickFrequency="1" Height="28" VerticalAlignment="Center" ValueChanged="FilterSlider_ValueChanged" PreviewMouseLeftButtonUp="FilterSlider_MouseLeftButtonUp"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderFilterSharpen, Path=Value, StringFormat={}{0:F0}}" FontSize="12" Height="32" IsReadOnly="True" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                            
                                            <!-- æ™•å½± -->
                                            <TextBlock Text="æ™•å½±" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderFilterVignette" Minimum="0" Maximum="100" Value="0" TickFrequency="10" Height="28" VerticalAlignment="Center" ValueChanged="FilterSlider_ValueChanged" PreviewMouseLeftButtonUp="FilterSlider_MouseLeftButtonUp"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderFilterVignette, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" IsReadOnly="True" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <GroupBox Header="âš™ï¸ FFmpeg æ»¤é•œå‘½ä»¤é¢„è§ˆ" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="å½“å‰å°†åº”ç”¨çš„æ»¤é•œé“¾ï¼š" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,6"/>
                                            <Border Background="{DynamicResource Brush.LogSecondaryBackground}" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                                                <TextBlock Name="TxtFilterCommandPreview" Text="æ— æ»¤é•œ" FontFamily="Consolas" FontSize="12" Foreground="{DynamicResource Brush.ButtonSuccess}" TextWrapping="Wrap"/>
                                            </Border>
                                            <TextBlock Text="ðŸ’¡ æ»¤é•œé“¾ä¼šæ ¹æ®ä¸Šæ–¹çš„é¢„è®¾ä¸Žæ»‘å—è‡ªåŠ¨ç”Ÿæˆï¼Œå¯ç”¨äºŽæ‰¹å¤„ç†æˆ–å‘½ä»¤æç¤ºç¬¦æ‰§è¡Œã€‚" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <Button Name="BtnApplyFilter" Content="ðŸŽ¨ åº”ç”¨æ»¤é•œè®¾ç½®" Height="48" FontSize="15" FontWeight="SemiBold" Style="{StaticResource ButtonPurpleStyle}" Margin="0,0,0,16" Click="BtnApplyFilter_Click" ToolTip="å¯¹é€‰ä¸­çš„è§†é¢‘æ–‡ä»¶åº”ç”¨æ»¤é•œè°ƒæ•´"/>
                                    
                                    <!-- ä½¿ç”¨æç¤º -->
                                    <GroupBox Header="ðŸ’¡ ä½¿ç”¨æç¤º" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="â€¢ é¢„è®¾æ»¤é•œå¯ä»¥ä¸€é”®å¥—ç”¨ä¸“ä¸šè°ƒè‰²æ•ˆæžœ" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ è‰²å½©è°ƒæ•´æ”¯æŒ-100%åˆ°+100%çš„ç²¾ç»†è°ƒèŠ‚" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ å¯ä»¥åœ¨é¢„è®¾æ»¤é•œåŸºç¡€ä¸Šç»§ç»­å¾®è°ƒå‚æ•°" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ æ™•å½±æ•ˆæžœå¯ä»¥å¢žåŠ ç”»é¢çš„è‰ºæœ¯æ„Ÿ" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ9ï¼šéŸ³é¢‘ ==================== -->
                        <TabItem Header=" ðŸ”Š éŸ³é¢‘">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- éŸ³é‡è°ƒæ•´ -->
                                    <GroupBox Header="ðŸ”Š éŸ³é‡è°ƒæ•´" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="éŸ³é‡å¤§å°" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="60"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderVolume" Minimum="0" Maximum="200" Value="100" TickFrequency="10" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderVolume, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" IsReadOnly="True" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Margin="8,0,0,0"/>
                                            </Grid>
                                            
                                            <TextBlock Text="å¿«é€Ÿé¢„è®¾" FontSize="13" Margin="0,0,0,6"/>
                                            <UniformGrid Rows="1" Columns="4" Margin="0,0,0,0">
                                                <Button Content="ðŸ”‡ é™éŸ³" Name="BtnVolumeMute" Height="32" Margin="4,0" FontSize="12" Click="BtnVolumeMute_Click"/>
                                                <Button Content="ðŸ”‰ 50%" Name="BtnVolume50" Height="32" Margin="4,0" FontSize="12" Click="BtnVolume50_Click"/>
                                                <Button Content="ðŸ”Š 100%" Name="BtnVolume100" Height="32" Margin="4,0" FontSize="12" Click="BtnVolume100_Click"/>
                                                <Button Content="ðŸ“¢ 150%" Name="BtnVolume150" Height="32" Margin="4,0" FontSize="12" Click="BtnVolume150_Click"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ·¡å…¥æ·¡å‡º -->
                                    <GroupBox Header="ðŸŽµ æ·¡å…¥æ·¡å‡º" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="100"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="100"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="æ·¡å…¥æ—¶é•¿ (ç§’)" FontSize="13" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Name="txtFadeIn" Text="0" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Text="æ·¡å‡ºæ—¶é•¿ (ç§’)" FontSize="13" Margin="16,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="3" Name="txtFadeOut" Text="0" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- éŸ³é¢‘æ ¼å¼è®¾ç½® -->
                                    <GroupBox Header="ðŸŽ¼ éŸ³é¢‘æ ¼å¼è®¾ç½®" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <Grid Margin="12">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="12"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="è¾“å‡ºæ ¼å¼" FontSize="13" Margin="0,0,0,6"/>
                                                <ComboBox Name="cboAudioFormat" SelectedIndex="0" FontSize="12" Height="32">
                                                    <ComboBoxItem Content="AAC (æŽ¨è)"/>
                                                    <ComboBoxItem Content="MP3"/>
                                                    <ComboBoxItem Content="WAV (æ— æŸ)"/>
                                                    <ComboBoxItem Content="FLAC (æ— æŸ)"/>
                                                    <ComboBoxItem Content="å¤åˆ¶åŽŸæ ¼å¼"/>
                                                </ComboBox>
                                            </StackPanel>
                                            
                                            <StackPanel Grid.Column="2">
                                                <TextBlock Text="æ¯”ç‰¹çŽ‡" FontSize="13" Margin="0,0,0,6"/>
                                                <ComboBox Name="cboBitrate" SelectedIndex="2" FontSize="12" Height="32">
                                                    <ComboBoxItem Content="128 kbps"/>
                                                    <ComboBoxItem Content="192 kbps (æŽ¨è)"/>
                                                    <ComboBoxItem Content="256 kbps"/>
                                                    <ComboBoxItem Content="320 kbps (é«˜éŸ³è´¨)"/>
                                                </ComboBox>
                                            </StackPanel>
                                        </Grid>
                                    </GroupBox>
                                    
                                    <!-- éŸ³é¢‘æ“ä½œ -->
                                    <GroupBox Header="âš™ï¸ éŸ³é¢‘æ“ä½œ" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <Border Background="{DynamicResource Brush.ButtonLightBlue}" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                                                <StackPanel>
                                                    <TextBlock Text="ðŸ“¤ æå–éŸ³é¢‘" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,6"/>
                                                    <TextBlock Text="ä»Žè§†é¢‘æ–‡ä»¶ä¸­æå–éŸ³é¢‘è½¨é“,æ”¯æŒå¤šç§æ ¼å¼" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                                    <Button Content="å¼€å§‹æå–" Name="BtnExtractAudio" Height="32" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnExtractAudio_Click"/>
                                                </StackPanel>
                                            </Border>
                                            
                                            <Border Background="{DynamicResource Brush.ButtonLightOrange}" CornerRadius="4" Padding="12" Margin="0,0,0,12">
                                                <StackPanel>
                                                    <TextBlock Text="ðŸ”„ æ›¿æ¢éŸ³é¢‘" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,6"/>
                                                    <TextBlock Text="ç”¨æ–°çš„éŸ³é¢‘æ–‡ä»¶æ›¿æ¢è§†é¢‘ä¸­çš„åŽŸéŸ³é¢‘" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                                    <Grid Margin="0,0,0,10">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBox Grid.Column="0" Name="txtAudioFilePath" Text="é€‰æ‹©éŸ³é¢‘æ–‡ä»¶..." FontSize="12" Height="32" VerticalContentAlignment="Center" IsReadOnly="True"/>
                                                        <Button Grid.Column="1" Content="ðŸ“ æµè§ˆ" Name="BtnBrowseAudioFile" Width="70" Height="32" Margin="8,0,0,0" FontSize="12" Click="BtnBrowseAudioFile_Click"/>
                                                    </Grid>
                                                    <Button Content="å¼€å§‹æ›¿æ¢" Name="BtnReplaceAudio" Height="32" FontSize="12" Style="{StaticResource ButtonWarningStyle}" Click="BtnReplaceAudio_Click"/>
                                                </StackPanel>
                                            </Border>
                                            
                                            <Border Background="{DynamicResource Brush.ButtonLightRed}" CornerRadius="4" Padding="12">
                                                <StackPanel>
                                                    <TextBlock Text="ðŸ—‘ï¸ åˆ é™¤éŸ³é¢‘" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,6"/>
                                                    <TextBlock Text="ä»Žè§†é¢‘ä¸­å®Œå…¨ç§»é™¤éŸ³é¢‘è½¨é“,ä»…ä¿ç•™ç”»é¢" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                                    <Button Content="åˆ é™¤éŸ³é¢‘" Name="BtnRemoveAudio" Height="32" FontSize="12" Style="{StaticResource ButtonDangerStyle}" Click="BtnRemoveAudio_Click"/>
                                                </StackPanel>
                                            </Border>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ“ä½œæŒ‰é’® -->
                                    <Button Content="âœ“ åº”ç”¨æ‰€æœ‰éŸ³é¢‘è®¾ç½®" Name="BtnApplyAudioSettings" Height="36" Margin="0,0,0,0" FontSize="13" FontWeight="Bold" Style="{StaticResource ButtonSuccessStyle}" Cursor="Hand" Click="BtnApplyAudioSettings_Click"/>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ10ï¼šå›¾ç‰‡/GIF ==================== -->
                        <TabItem Header=" ðŸ“¸ å›¾/GIF">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- æå–è§†é¢‘å¸§ -->
                                    <GroupBox Header="ðŸ“¸ æå–è§†é¢‘å¸§" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="æå–æ—¶é—´ç‚¹" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBox Name="txtExtractTime" Text="00:00:00.000" MaxLength="12" FontSize="12" Height="32" FontFamily="Consolas" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <Button Grid.Column="1" Name="BtnUseCurrentTimeForExtract" Content="â±ï¸ å½“å‰æ—¶é—´" Width="100" Height="32" Margin="8,0,0,0" FontSize="12" Click="BtnUseCurrentTimeForExtract_Click"/>
                                            </Grid>
                                            
                                            <TextBlock Text="å›¾ç‰‡æ ¼å¼" FontSize="13" Margin="0,0,0,6"/>
                                            <ComboBox Name="cboPictureFormat" SelectedIndex="0" FontSize="12" Height="32" Margin="0,0,0,12">
                                                <ComboBoxItem Content="PNG (æ— æŸ)"/>
                                                <ComboBoxItem Content="JPG (åŽ‹ç¼©)"/>
                                                <ComboBoxItem Content="BMP"/>
                                                <ComboBoxItem Content="WebP"/>
                                            </ComboBox>
                                            
                                            <Button Name="BtnExtractFrame" Content="ðŸ“¸ æå–å½“å‰å¸§" Height="32" Margin="0,0,0,0" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnExtractFrame_Click"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- åˆ¶ä½œGIFåŠ¨å›¾ -->
                                    <GroupBox Header="ðŸŽžï¸ åˆ¶ä½œGIFåŠ¨å›¾" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="æ—¶é—´èŒƒå›´" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="120"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="å¼€å§‹" FontSize="13" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Name="txtGifStartTime" Text="00:00:00.000" MaxLength="12" FontSize="12" Height="32" FontFamily="Consolas" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <Button Grid.Column="2" Name="BtnUseInPointForGif" Content="I" Width="32" Height="32" Margin="4,0,0,0" FontSize="12" FontWeight="Bold" Style="{StaticResource ButtonInfoOutlineStyle}" ToolTip="ä½¿ç”¨å…¥ç‚¹æ—¶é—´" Click="BtnUseInPointForGif_Click"/>
                                                <TextBlock Grid.Column="3" Text="ç»“æŸ" FontSize="13" Margin="12,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="4" Name="txtGifEndTime" Text="00:00:05.000" MaxLength="12" FontSize="12" Height="32" FontFamily="Consolas" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <Button Grid.Column="5" Name="BtnUseOutPointForGif" Content="O" Width="32" Height="32" Margin="4,0,0,0" FontSize="12" FontWeight="Bold" Style="{StaticResource ButtonWarningOutlineStyle}" ToolTip="ä½¿ç”¨å‡ºç‚¹æ—¶é—´" Click="BtnUseOutPointForGif_Click"/>
                                            </Grid>
                                            
                                            <TextBlock Text="å‚æ•°è®¾ç½®" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="60"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="80"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="FPS" FontSize="13" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Name="txtGifFPS" Text="10" MaxLength="2" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                <TextBlock Grid.Column="2" Text="å®½åº¦" FontSize="13" Margin="16,0,8,0" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="3" Name="txtGifWidth" Text="480" MaxLength="4" FontFamily="Consolas" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                            </Grid>
                                            
                                            <TextBlock Text="è´¨é‡æ¨¡å¼" FontSize="13" Margin="0,0,0,6"/>
                                            <ComboBox Name="cboGifQuality" SelectedIndex="1" FontSize="12" Height="32" Margin="0,0,0,12">
                                                <ComboBoxItem Content="ä½Žè´¨é‡ï¼ˆå°æ–‡ä»¶ï¼‰"/>
                                                <ComboBoxItem Content="ä¸­ç­‰è´¨é‡ï¼ˆæŽ¨èï¼‰"/>
                                                <ComboBoxItem Content="é«˜è´¨é‡ï¼ˆå¤§æ–‡ä»¶ï¼‰"/>
                                            </ComboBox>
                                            
                                            <Button Name="BtnMakeGif" Content="ðŸŽžï¸ åˆ¶ä½œGIF" Height="32" Margin="0,0,0,0" FontSize="12" Style="{StaticResource ButtonPurpleStyle}" Click="BtnMakeGif_Click"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- å›¾ç‰‡æ‹¼æŽ¥ -->
                                    <GroupBox Header="ðŸŽ¨ å›¾ç‰‡æ‹¼æŽ¥" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="é€‰æ‹©å¤šå¼ å›¾ç‰‡è¿›è¡Œæ‹¼æŽ¥" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                            <UniformGrid Rows="1" Columns="2">
                                                <Button Name="BtnHorizontalConcat" Content="âž¡ï¸ æ°´å¹³æ‹¼æŽ¥" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnHorizontalConcat_Click"/>
                                                <Button Name="BtnVerticalConcat" Content="â¬‡ï¸ åž‚ç›´æ‹¼æŽ¥" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnVerticalConcat_Click"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- è¯´æ˜Ž -->
                                    <GroupBox Header="ðŸ’¡ ä½¿ç”¨è¯´æ˜Ž" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="â€¢ æå–å¸§ï¼šä»Žè§†é¢‘ä¸­æŠ“å–æŒ‡å®šæ—¶é—´ç‚¹çš„å›¾ç‰‡ï¼Œæ”¯æŒå¤šç§æ ¼å¼" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ åˆ¶ä½œGIFï¼šå°†è§†é¢‘ç‰‡æ®µè½¬æ¢ä¸ºåŠ¨å›¾ï¼Œå¯è°ƒæ•´FPSå’Œåˆ†è¾¨çŽ‡" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ å›¾ç‰‡æ‹¼æŽ¥ï¼šåˆå¹¶å¤šå¼ å›¾ç‰‡ä¸ºä¸€å¼ ï¼Œæ”¯æŒæ°´å¹³/åž‚ç›´æ‹¼æŽ¥" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ FFmpegå‚æ•°ï¼šä½¿ç”¨scaleã€fpsã€palettegenç­‰æ»¤é•œä¼˜åŒ–GIFè´¨é‡" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,8,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ11ï¼šåŽ»é‡ ==================== -->
                        <TabItem Header=" ðŸŽ¯ åŽ»é‡">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- åŽ»é‡æ¨¡å¼ -->
                                    <GroupBox Header="ðŸŽ¯ åŽ»é‡æ¨¡å¼" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="é€‰æ‹©åŽ»é‡å¼ºåº¦" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,10"/>
                                            <UniformGrid Rows="1" Columns="4">
                                                <RadioButton Content="ðŸš« å…³é—­" Name="RadioOffMode" IsChecked="True" FontSize="13" Margin="4,8" ToolTip="ä¸è¿›è¡ŒåŽ»é‡å¤„ç†" HorizontalAlignment="Center"/>
                                                <RadioButton Content="âš¡ è½»åº¦" Name="RadioLightMode" FontSize="13" Margin="4,8" ToolTip="äº®åº¦Â±3%, å¯¹æ¯”åº¦Â±3%" HorizontalAlignment="Center"/>
                                                <RadioButton Content="âš¡âš¡ ä¸­åº¦" Name="RadioMediumMode" FontSize="13" Margin="4,8" ToolTip="äº®åº¦Â±5%, å¯¹æ¯”åº¦Â±5%, å™ªç‚¹" HorizontalAlignment="Center"/>
                                                <RadioButton Content="âš¡âš¡âš¡ é‡åº¦" Name="RadioHeavyMode" FontSize="13" Margin="4,8" ToolTip="ç»¼åˆå¤„ç†+æ¨¡ç³Š+è£å‰ª" HorizontalAlignment="Center"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- è‰²å½©è°ƒæ•´ -->
                                    <GroupBox Header="ðŸŽ¨ è‰²å½©è°ƒæ•´" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <!-- äº®åº¦ -->
                                            <TextBlock Text="äº®åº¦è°ƒæ•´" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderBrightness" Minimum="-10" Maximum="10" Value="5" TickFrequency="1" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderBrightness, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                            
                                            <!-- å¯¹æ¯”åº¦ -->
                                            <TextBlock Text="å¯¹æ¯”åº¦è°ƒæ•´" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderContrast" Minimum="-10" Maximum="10" Value="5" TickFrequency="1" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderContrast, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                            
                                            <!-- é¥±å’Œåº¦ -->
                                            <TextBlock Text="é¥±å’Œåº¦è°ƒæ•´" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderSaturation" Minimum="-10" Maximum="10" Value="5" TickFrequency="1" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderSaturation, Path=Value, StringFormat={}{0:F0}%}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- é«˜çº§æ•ˆæžœ -->
                                    <GroupBox Header="âš™ï¸ é«˜çº§æ•ˆæžœ" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <!-- å™ªç‚¹ -->
                                            <TextBlock Text="å™ªç‚¹å¼ºåº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderNoise" Minimum="0" Maximum="30" Value="10" TickFrequency="5" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderNoise, Path=Value, StringFormat={}{0:F0}}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                            
                                            <!-- æ¨¡ç³Š -->
                                            <TextBlock Text="æ¨¡ç³Šç¨‹åº¦" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,12">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderBlur" Minimum="0" Maximum="10" Value="2" TickFrequency="1" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderBlur, Path=Value, StringFormat={}{0:F0}}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                            
                                            <!-- è¾¹ç¼˜è£å‰ª -->
                                            <TextBlock Text="è¾¹ç¼˜è£å‰ª" FontSize="13" Margin="0,0,0,6"/>
                                            <Grid Margin="0,0,0,0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="70"/>
                                                </Grid.ColumnDefinitions>
                                                <Slider Grid.Column="0" Name="sliderCropEdge" Minimum="0" Maximum="10" Value="2" TickFrequency="1" Height="28" VerticalAlignment="Center"/>
                                                <TextBox Grid.Column="1" Text="{Binding ElementName=sliderCropEdge, Path=Value, StringFormat={}{0:F0}px}" FontSize="12" Height="32" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Margin="8,0,0,0" IsReadOnly="True"/>
                                            </Grid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- åº”ç”¨æŒ‰é’® -->
                                    <Button Content="âœ“ åº”ç”¨åŽ»é‡è®¾ç½®" Name="ApplyDeduplicateButton" Height="36" Margin="0,0,0,16" FontSize="13" FontWeight="Bold" Style="{StaticResource ButtonSuccessStyle}" Cursor="Hand" Click="ApplyDeduplicateButton_Click"/>
                                    
                                    <!-- è¯´æ˜Ž -->
                                    <GroupBox Header="ðŸ’¡ ä½¿ç”¨è¯´æ˜Ž" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="â€¢ è½»åº¦å¤„ç†ï¼šå¾®è°ƒäº®åº¦å’Œå¯¹æ¯”åº¦ï¼Œé€‚ç”¨äºŽä¸€èˆ¬é˜²æ£€æµ‹éœ€æ±‚" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ ä¸­åº¦å¤„ç†ï¼šå¢žåŠ å™ªç‚¹å’Œè‰²å½©å˜åŒ–ï¼Œæ›´å¼ºçš„åŽ»é‡æ•ˆæžœ" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ é‡åº¦å¤„ç†ï¼šç»¼åˆåº”ç”¨æ‰€æœ‰æ•ˆæžœï¼Œæœ€å¼ºåŽ»é‡ä½†å½±å“ç”»è´¨" FontSize="12" Margin="0,4" TextWrapping="Wrap"/>
                                            <TextBlock Text="â€¢ FFmpegå‚æ•°ï¼šé€šè¿‡eqã€noiseã€boxblurç­‰æ»¤é•œå®žçŽ°" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,8,0,0" FontFamily="Consolas"/>
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem><!-- ==================== æ ‡ç­¾é¡µ12ï¼šæ—¶é—´ç æ‰¹å¤„ç† ==================== -->
                        <TabItem Header=" â±ï¸ æ—¶ç ">
                            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                                <StackPanel>
                                    <!-- æ—¶é—´ç è¾“å…¥ -->
                                    <GroupBox Header="ðŸ“¥ æ—¶é—´ç è¾“å…¥" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Text="ç²˜è´´AIç”Ÿæˆçš„æ—¶é—´ç ï¼ˆæ”¯æŒå¤šç§æ ¼å¼ï¼‰" FontSize="11" Foreground="{DynamicResource Brush.TextSecondary}" Margin="0,0,0,8"/>
                                            <TextBox Name="txtTimecodeInput" Height="200" FontSize="12" FontFamily="Consolas"
                                                    TextWrapping="Wrap" AcceptsReturn="True" 
                                                    VerticalScrollBarVisibility="Auto"
                                                    Padding="8"
                                                    Background="{DynamicResource Brush.InputBackground}"
                                                    Foreground="{DynamicResource Brush.InputForeground}"
                                                    BorderBrush="{DynamicResource Brush.InputBorder}"
                                                    BorderThickness="1"
                                                    ToolTip="æ”¯æŒæ ¼å¼ï¼š00:01:23.456 - 00:02:34.567 æˆ– [1:23.456, 2:34.567]"
                                                    Margin="0,0,0,12">
                                            </TextBox>
                                            
                                            <UniformGrid Rows="1" Columns="2">
                                                <Button Content="ðŸ“‚ åŠ è½½ç¤ºä¾‹" Name="BtnLoadTimecodeExample" Height="32" Margin="4" FontSize="12" Click="BtnLoadTimecodeExample_Click"/>
                                                <Button Content="ðŸ—‘ï¸ æ¸…ç©º" Name="BtnClearTimecodeInput" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonDangerOutlineStyle}" Click="BtnClearTimecodeInput_Click"/>
                                            </UniformGrid>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ‰¹å¤„ç†é€‰é¡¹ -->
                                    <GroupBox Header="âš™ï¸ æ‰¹å¤„ç†é€‰é¡¹" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <CheckBox Content="ä¿ç•™åŽŸå§‹ç¼–ç ï¼ˆä¸é‡æ–°ç¼–ç ï¼‰" Name="chkKeepOriginalCodec" IsChecked="True" FontSize="13" Margin="0,6"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ—¶é—´ç è¾“å‡ºé¢„è§ˆ -->
                                    <GroupBox Header="ðŸ“¤ æ—¶é—´ç æå–é¢„è§ˆ" Margin="0,0,0,16" FontSize="14" FontWeight="SemiBold">
                                        <StackPanel Margin="12">
                                            <TextBlock Name="txtTimecodeCount"
                                                       Text="è§£æžç»“æžœï¼ˆå…± 0 ä¸ªç‰‡æ®µï¼‰"
                                                       FontSize="13"
                                                       Margin="0,0,0,8"
                                                       FontWeight="SemiBold"
                                                       Foreground="{DynamicResource Brush.TextPrimary}"/>
                                            <TextBox Name="txtTimecodeOutput" Height="150" FontSize="12" FontFamily="Consolas"
                                                    TextWrapping="Wrap" IsReadOnly="True"
                                                    VerticalScrollBarVisibility="Auto"
                                                    Padding="8"
                                                    Background="{DynamicResource Brush.PanelAltBackground}"
                                                    BorderBrush="{DynamicResource Brush.PanelBorder}"
                                                    BorderThickness="1"
                                                    Margin="0,0,0,12"/>
                                            
                                            <Button Content="ðŸ” è§£æžæ—¶é—´ç " Name="BtnParseTimecode" Height="32" Margin="4" FontSize="12" Style="{StaticResource ButtonInfoStyle}" Click="BtnParseTimecode_Click"/>
                                        </StackPanel>
                                    </GroupBox>
                                    
                                    <!-- æ“ä½œæŒ‰é’® -->
                                    <UniformGrid Rows="1" Columns="2" Margin="0,0,0,0">
                                        <Button Content="âœ‚ï¸ å¼€å§‹æ‰¹é‡åˆ†å‰²" Name="BtnSplitByTimecode" Height="36" Margin="4,0" FontSize="13" FontWeight="Bold" Style="{StaticResource ButtonWarningStyle}" Cursor="Hand" Click="BtnSplitByTimecode_Click"/>
                                        <Button Content="ðŸ”— åˆ†å‰²å¹¶åˆå¹¶" Name="BtnSplitAndMerge" Height="36" Margin="4,0" FontSize="13" FontWeight="Bold" Style="{StaticResource ButtonSuccessStyle}" Cursor="Hand" Click="BtnSplitAndMerge_Click"/>
                                    </UniformGrid>
                                </StackPanel>
                            </ScrollViewer>
                        </TabItem>
                        
                    </TabControl>
                </Border>
            </Grid>
            
            <!-- åˆ†éš”æ¡2 -->
            <GridSplitter Grid.Column="3" HorizontalAlignment="Stretch" Background="{DynamicResource Brush.SplitterBackground}"/>
            
            <!-- ==================== å³ä¾§åˆ—ï¼ˆä¸¤åŒºåŸŸåˆ†å‰²ï¼‰==================== -->
            <Grid Grid.Column="4">
                <Grid.RowDefinitions>
                    <RowDefinition Height="1.2*" MinHeight="300"/>   <!-- å³ä¸Šï¼šè¾“å‡ºè®¾ç½®ï¼ˆæ‰©å±•ï¼‰ -->
                    <RowDefinition Height="5"/>                      <!-- åˆ†éš”ç¬¦ -->
                    <RowDefinition Height="0.8*" MinHeight="200"/>   <!-- å³ä¸‹ï¼šè¾“å‡ºä¿¡æ¯ï¼ˆå‘½ä»¤ç»ˆç«¯ï¼‰ -->
                </Grid.RowDefinitions>
                
                <!-- å³ä¸Šï¼šè¾“å‡ºè®¾ç½®åŒºåŸŸï¼ˆæ‰©å±•ç‰ˆï¼‰ -->
                <Border Grid.Row="0"
                        Background="{DynamicResource Brush.PanelBackground}"
                        BorderBrush="{DynamicResource Brush.PanelBorder}"
                        BorderThickness="1,0,0,1">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="12">
                            <!-- æ ‡é¢˜ -->
                            <Border Background="{DynamicResource Brush.PanelAltBackground}"
                                    BorderBrush="{DynamicResource Brush.PanelBorder}"
                                    BorderThickness="0,0,0,2"
                                    Padding="10,8"
                                    Margin="-12,-12,-12,12">
                                <TextBlock Text="âš™ï¸ è¾“å‡ºè®¾ç½®"
                                           FontWeight="Bold"
                                           FontSize="15"
                                           Foreground="{DynamicResource Brush.TextPrimary}"/>
                            </Border>
                            
                            <!-- è¾“å‡ºè·¯å¾„ -->
                            <GroupBox Header="ðŸ“ è¾“å‡ºè·¯å¾„" Margin="0,0,0,12" FontSize="13">
                                <StackPanel Margin="8">
                                    <Grid Margin="0,8">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBox Name="OutputPathBox" Text="D:\Video\Output" 
                                                 FontSize="11" Height="30" VerticalContentAlignment="Center"/>
                                        <Button Name="BrowseOutputPathButton" Grid.Column="1" Content="ðŸ“‚ æµè§ˆ" Width="60" Height="30"
                                                Margin="5,0,0,0" FontSize="11" Click="BrowseOutputPathButton_Click"/>
                                    </Grid>
                                </StackPanel>
                            </GroupBox>
                            
                            <!-- æ–‡ä»¶å‘½å -->
                            <GroupBox Header="ðŸ“ æ–‡ä»¶å‘½å" Margin="0,0,0,12" FontSize="13">
                                <StackPanel Margin="8">
                                    <RadioButton Name="OriginalNameRadio" Content="åŽŸæ–‡ä»¶å_å¤„ç†" IsChecked="True" Margin="0,8,0,5" FontSize="12"/>
                                    <Grid Margin="0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <RadioButton Name="CustomPrefixRadio" Content="è‡ªå®šä¹‰å‰ç¼€:" Grid.Column="0" Margin="0,0,8,0" FontSize="12" VerticalAlignment="Center"/>
                                        <TextBox Grid.Column="1" Name="CustomPrefixBox" Height="28" FontSize="11" VerticalContentAlignment="Center"/>
                                    </Grid>
                                    <Grid Margin="0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <RadioButton Name="CustomSuffixRadio" Content="è‡ªå®šä¹‰åŽç¼€:" Grid.Column="0" Margin="0,0,8,0" FontSize="12" VerticalAlignment="Center"/>
                                        <TextBox Grid.Column="1" Name="CustomSuffixBox" Height="28" FontSize="11" VerticalContentAlignment="Center"/>
                                    </Grid>
                                </StackPanel>
                            </GroupBox>
                            
                            <!-- ç¼–ç è®¾ç½® -->
                            <GroupBox Header="ðŸŽ¬ ç¼–ç è®¾ç½®" Margin="0,0,0,12" FontSize="13">
                                <StackPanel Margin="8">
                                    <TextBlock Text="è¾“å‡ºæ ¼å¼:" FontSize="12" Margin="0,8,0,5"/>
                                    <ComboBox Name="OutputFormatBox" SelectedIndex="0" FontSize="11" Height="30">
                                        <ComboBoxItem Content="MP4 (æŽ¨è)"/>
                                        <ComboBoxItem Content="MKV"/>
                                        <ComboBoxItem Content="AVI"/>
                                        <ComboBoxItem Content="MOV"/>
                                    </ComboBox>
                                    
                                    <TextBlock Text="è§†é¢‘ç¼–ç å™¨:" FontSize="12" Margin="0,10,0,5"/>
                                    <RadioButton Name="CopyCodecRadio" Content="å¿«é€Ÿå¤åˆ¶ (-c copy) æ— æŸã€é€Ÿåº¦å¿«" IsChecked="True" FontSize="11" Margin="0,5"/>
                                    <RadioButton Name="H264CodecRadio" Content="H.264 (libx264) å…¼å®¹æ€§å¥½" FontSize="11" Margin="0,5"/>
                                    <RadioButton Name="H265CodecRadio" Content="H.265 (libx265) ä½“ç§¯å°" FontSize="11" Margin="0,5"/>
                                    
                                    <TextBlock Text="è´¨é‡è®¾ç½® (CRF):" FontSize="12" Margin="0,10,0,5"/>
                                    <Grid Margin="0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Slider Name="QualitySlider" Minimum="18" Maximum="28" Value="23" 
                                                TickFrequency="1" IsSnapToTickEnabled="True" Height="24"/>
                                        <TextBlock Grid.Column="1" Name="QualityValueText" 
                                                   Text="{Binding ElementName=QualitySlider, Path=Value, StringFormat={}{0:F0}}" 
                                                   FontFamily="Consolas" FontSize="12" Margin="10,0,0,0" 
                                                   VerticalAlignment="Center" Width="25"/>
                                    </Grid>
                                    <TextBlock Text="18=é«˜è´¨é‡ | 23=å¹³è¡¡ | 28=é«˜åŽ‹ç¼©"
                                               FontSize="10"
                                               Foreground="{DynamicResource Brush.TextSecondary}"
                                               HorizontalAlignment="Center"/>
                                    
                                    <TextBlock Text="éŸ³é¢‘ç¼–ç :" FontSize="12" Margin="0,10,0,5"/>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <ComboBox Name="AudioCodecBox" Grid.Column="0" SelectedIndex="0" FontSize="11" Height="30" Margin="0,0,5,0">
                                            <ComboBoxItem Content="AAC"/>
                                            <ComboBoxItem Content="MP3"/>
                                            <ComboBoxItem Content="å¤åˆ¶"/>
                                        </ComboBox>
                                        <ComboBox Name="AudioBitrateBox" Grid.Column="1" SelectedIndex="2" FontSize="11" Height="30" Margin="5,0,0,0">
                                            <ComboBoxItem Content="96 kbps"/>
                                            <ComboBoxItem Content="128 kbps"/>
                                            <ComboBoxItem Content="192 kbps"/>
                                            <ComboBoxItem Content="256 kbps"/>
                                        </ComboBox>
                                    </Grid>
                                </StackPanel>
                            </GroupBox>
                            
                            <!-- é«˜çº§é€‰é¡¹ -->
                            <GroupBox Header="ðŸ”§ é«˜çº§é€‰é¡¹" Margin="0,0,0,12" FontSize="13">
                                <StackPanel Margin="8">
                                    <CheckBox Name="UseCommandPromptForCropCheckBox"
                                              Content="é€šè¿‡å‘½ä»¤æç¤ºç¬¦æ‰§è¡Œ"
                                              FontSize="11"
                                              Margin="0,8,0,5"
                                              ToolTip="å‹¾é€‰åŽè£å‰ªæ“ä½œå°†ç”ŸæˆFFmpegå‘½ä»¤å¹¶åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç›´æŽ¥æ‰§è¡Œ"/>

                                    <TextBlock Text="è‡ªå®šä¹‰FFmpegå‚æ•°:" FontSize="12" Margin="0,10,0,5"/>
                                    <TextBox Name="CustomArgsBox" Height="60" FontFamily="Consolas"
                                             FontSize="10" TextWrapping="Wrap" AcceptsReturn="True"
                                             VerticalScrollBarVisibility="Auto">
                                    </TextBox>
                                </StackPanel>
                            </GroupBox>

                            <!-- é«˜çº§æç¤º -->
                            <GroupBox Header="ðŸ’¡ é«˜çº§ä½¿ç”¨è¯´æ˜Ž" Margin="0,0,0,12" FontSize="13">
                                <StackPanel Margin="8">
                                    <TextBlock Text="â€¢ H.264: é€šç”¨æ€§æœ€å¥½ï¼Œå‡ ä¹Žæ‰€æœ‰è®¾å¤‡éƒ½æ”¯æŒ" FontSize="11" Margin="0,2" TextWrapping="Wrap"/>
                                    <TextBlock Text="â€¢ H.265: åŒç­‰è´¨é‡ä¸‹æ–‡ä»¶æ›´å°ï¼Œä½†ç¼–ç æ…¢ï¼Œéƒ¨åˆ†è®¾å¤‡ä¸æ”¯æŒ" FontSize="11" Margin="0,2" TextWrapping="Wrap"/>
                                    <TextBlock Text="â€¢ CRFèŒƒå›´ 18-28ï¼šæ•°å€¼è¶Šä½Žç”»è´¨è¶Šå¥½ï¼Œä½†æ–‡ä»¶è¶Šå¤§" FontSize="11" Margin="0,2" TextWrapping="Wrap"/>
                                    <TextBlock Text="â€¢ è‡ªå®šä¹‰å‚æ•°ä¼šè¿½åŠ åˆ°FFmpegå‘½ä»¤æœ«å°¾ï¼Œè¯·è°¨æ…Žä½¿ç”¨" FontSize="11" Foreground="{DynamicResource Brush.ButtonDanger}" Margin="4,6,0,0" TextWrapping="Wrap"/>
                                </StackPanel>
                            </GroupBox>
                        </StackPanel>
                    </ScrollViewer>
                </Border>
                
                <!-- åˆ†éš”ç¬¦ -->
                <GridSplitter Grid.Row="1" HorizontalAlignment="Stretch" Background="{DynamicResource Brush.SplitterBackground}" Height="5"/>
                
                <!-- å³ä¸‹ï¼šè¾“å‡ºä¿¡æ¯åŒºåŸŸï¼ˆå‘½ä»¤ç»ˆç«¯ + æ–‡ä»¶ä¿¡æ¯ï¼‰ -->
                <Border x:Name="OutputInfoContainer"
                        Grid.Row="2"
                        Background="{DynamicResource Brush.PanelBackground}"
                        BorderBrush="{DynamicResource Brush.PanelBorder}"
                        BorderThickness="1,0,0,0">
                    <TabControl Name="OutputInfoTabs" SelectedIndex="0">
                        <!-- æ ‡ç­¾é¡µ1ï¼šæ‰§è¡Œæ—¥å¿— -->
                        <TabItem x:Name="ExecutionLogTabItem" Header="âš™ï¸ æ‰§è¡Œæ—¥å¿—">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- æ—¥å¿—è¾“å‡ºçª—å£ -->
                                <Border Grid.Row="0"
                                        Background="#1E1E1E"
                                        BorderBrush="#37474F"
                                        BorderThickness="1">
                                    <ScrollViewer Name="LogScrollViewer" 
                                                  VerticalScrollBarVisibility="Auto"
                                                  Padding="0"
                                                  Background="#1E1E1E">
                                        <TextBox Name="LogOutputBox"
                                                 FontFamily="Consolas" 
                                                 FontSize="10"
                                                 Background="#1E1E1E" 
                                                 Foreground="#E0E0E0"
                                                 BorderThickness="0" 
                                                 IsReadOnly="True"
                                                 TextWrapping="Wrap" 
                                                 Padding="10"
                                                 VerticalAlignment="Stretch"
                                                 Style="{x:Null}"
                                                 Text="$ ç­‰å¾…æ‰§è¡Œå‘½ä»¤...&#x0a;&#x0a;æç¤º: ç‚¹å‡»ä¸Šæ–¹'å¼€å§‹å¤„ç†'æŒ‰é’®å¼€å§‹æ‰§è¡Œ">
                                            <TextBox.Template>
                                                <ControlTemplate TargetType="TextBox">
                                                    <Border x:Name="border" Background="#1E1E1E" BorderBrush="Transparent" BorderThickness="0">
                                                        <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}" Background="#1E1E1E"/>
                                                    </Border>
                                                </ControlTemplate>
                                            </TextBox.Template>
                                        </TextBox>
                                    </ScrollViewer>
                                </Border>
                                
                                <!-- è¿›åº¦æ¡ -->
                                <Border Grid.Row="1"
                                        Background="#2D2D30"
                                        Padding="8,5">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock Text="è¿›åº¦:"
                                               Foreground="#999" 
                                               Margin="0,0,8,0" VerticalAlignment="Center" FontSize="10"/>
                                    <ProgressBar Grid.Column="1" Name="ExecutionProgressBar" 
                                                 Height="16" Minimum="0" Maximum="100" Value="0"
                                                 Foreground="#4CAF50"
                                                 Background="#37474F"
                                                 BorderBrush="#37474F"
                                                 Style="{x:Null}">
                                        <ProgressBar.Template>
                                            <ControlTemplate TargetType="ProgressBar">
                                                <Border x:Name="PART_Track" Background="#37474F" BorderThickness="0" CornerRadius="2">
                                                    <Border x:Name="PART_Indicator" Background="#4CAF50" HorizontalAlignment="Left" CornerRadius="2"/>
                                                </Border>
                                            </ControlTemplate>
                                        </ProgressBar.Template>
                                    </ProgressBar>
                                    <TextBlock Grid.Column="2" Name="ProgressInfoText" 
                                               Text="0% | 0.0x | 00:00" 
                                               Foreground="#999" Margin="8,0,0,0"
                                               FontFamily="Consolas" FontSize="10"
                                               VerticalAlignment="Center"/>
                                </Grid>
                                </Border>
                                
                                <!-- æŽ§åˆ¶æŒ‰é’® -->
                                <Border Grid.Row="2"
                                        Background="#2D2D30"
                                        BorderBrush="#3F3F46" 
                                        BorderThickness="0,1,0,0"
                                        Padding="8">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <!-- çŠ¶æ€æŒ‡ç¤º -->
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                            <Border Name="StatusIndicator"
                                                    Width="10"
                                                    Height="10" 
                                                    Background="#4CAF50"
                                                    CornerRadius="5"
                                                    Margin="0,0,8,0"/>
                                            <TextBlock Name="StatusText"
                                                       Text="å°±ç»ª" 
                                                       FontSize="11"
                                                       Foreground="#E0E0E0"
                                                       VerticalAlignment="Center"/>
                                        </StackPanel>
                                        
                                        <!-- æ“ä½œæŒ‰é’® -->
                                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                                            <Button Name="BtnSaveLog" Content="ðŸ’¾ ä¿å­˜æ—¥å¿—" Width="90" Height="28" 
                                                    Margin="3" FontSize="10" Click="BtnSaveLog_Click" ToolTip="å°†æ‰§è¡Œæ—¥å¿—ä¿å­˜åˆ°æ–‡ä»¶"/>
                                            <Button Name="BtnClearLog" Content="ðŸ—‘ï¸ æ¸…ç©º" Width="70" Height="28" 
                                                    Margin="3" FontSize="10" Click="BtnClearLog_Click" ToolTip="æ¸…ç©ºæ‰§è¡Œæ—¥å¿—"/>
                                            <Button Name="StopExecutionButton" Content="â¹ åœæ­¢" 
                                                    Width="70" Height="28" Margin="3" FontSize="10"
                                                    Style="{StaticResource ButtonDangerStyle}" 
                                                    IsEnabled="False" Click="StopExecutionButton_Click" ToolTip="åœæ­¢å½“å‰æ‰§è¡Œçš„ä»»åŠ¡"/>
                </StackPanel>
            </Grid>
        </Border>
                            </Grid>
                        </TabItem>
                        
                        <!-- æ ‡ç­¾é¡µ2ï¼šå‘½ä»¤é¢„è§ˆ -->
                        <TabItem x:Name="CommandPreviewTabItem" Header="ðŸ“ å‘½ä»¤é¢„è§ˆ">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- å‘½ä»¤æ˜¾ç¤ºåŒº -->
                                <Border Grid.Row="0"
                                        Background="#263238"
                                        Padding="10">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto" Background="#263238">
                                        <StackPanel>
                                            <TextBlock Text="å³å°†æ‰§è¡Œçš„ FFmpeg å‘½ä»¤:" 
                                                       Foreground="#999" FontSize="11" Margin="0,0,0,5"/>
                                            
                                            <Border Background="#1E1E1E"
                                                    BorderBrush="#37474F" 
                                                    BorderThickness="1" Padding="10" CornerRadius="3">
                                                <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="300" Background="#1E1E1E">
                                                    <TextBox Name="CommandPreviewBox"
                                                             Text="ffmpeg -i input.mp4&#x0a;  -ss 00:00:10.000&#x0a;  -to 00:00:20.000&#x0a;  -c copy&#x0a;  output.mp4"
                                                             FontFamily="Consolas"
                                                             FontSize="11"
                                                             Foreground="#A6E22E"
                                                             Background="#1E1E1E"
                                                             BorderThickness="0"
                                                             TextWrapping="Wrap"
                                                             IsReadOnly="True"
                                                             AcceptsReturn="True"
                                                             MinHeight="80"
                                                             Style="{x:Null}">
                                                        <TextBox.Template>
                                                            <ControlTemplate TargetType="TextBox">
                                                                <Border x:Name="border" Background="#1E1E1E" BorderBrush="Transparent" BorderThickness="0">
                                                                    <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}" Background="#1E1E1E"/>
                                                                </Border>
                                                            </ControlTemplate>
                                                        </TextBox.Template>
                                                    </TextBox>
                                                </ScrollViewer>
                                            </Border>
                                            
                                            <TextBlock Text="å‘½ä»¤è¯´æ˜Ž:" 
                                                       Foreground="#999" FontSize="11" Margin="0,10,0,5"/>
                                            <Border Background="#37474F" Padding="8" CornerRadius="3">
                                                <TextBlock Name="CommandDescriptionBox"
                                                           Text="â€¢ è¾“å…¥æ–‡ä»¶: input.mp4&#x0a;â€¢ èµ·å§‹æ—¶é—´: 00:00:10.000&#x0a;â€¢ ç»“æŸæ—¶é—´: 00:00:20.000&#x0a;â€¢ ç¼–ç æ¨¡å¼: å¿«é€Ÿå¤åˆ¶ (æ— æŸ)&#x0a;â€¢ è¾“å‡ºæ–‡ä»¶: output.mp4"
                                                           Foreground="#E0E0E0"
                                                           FontSize="10"
                                                           TextWrapping="Wrap"/>
                                            </Border>
                                        </StackPanel>
                                    </ScrollViewer>
                                </Border>
                                
                                <!-- æ“ä½œæŒ‰é’® -->
                                <Border Grid.Row="1"
                                        Background="#2D2D30"
                                        BorderBrush="#3F3F46" 
                                        BorderThickness="0,1,0,0" Padding="8">
                                    <UniformGrid Rows="1" Columns="3">
                                        <Button Name="BtnCopyCommand" Content="ðŸ“‹ å¤åˆ¶å‘½ä»¤" Height="32" Margin="2" FontSize="11" 
                                                Click="BtnCopyCommand_Click" ToolTip="å°†å‘½ä»¤å¤åˆ¶åˆ°å‰ªè´´æ¿"/>
                                        <Button Name="BtnEditCommand" Content="âœï¸ ç¼–è¾‘å‘½ä»¤" Height="32" Margin="2" FontSize="11" 
                                                Click="BtnEditCommand_Click" ToolTip="åˆ‡æ¢å‘½ä»¤ç¼–è¾‘æ¨¡å¼"/>
                                        <Button Name="BtnRefreshPreview" Content="ðŸ”„ åˆ·æ–°é¢„è§ˆ" Height="32" Margin="2" FontSize="11" 
                                                Click="BtnRefreshPreview_Click" ToolTip="é‡æ–°ç”Ÿæˆå‘½ä»¤é¢„è§ˆ"/>
                                    </UniformGrid>
        </Border>
                            </Grid>
                        </TabItem>

                        <!-- æ ‡ç­¾é¡µ3ï¼šä»»åŠ¡ç›‘æŽ§ -->
                        <TabItem x:Name="TaskMonitorTabItem" Header="ðŸ“Š ä»»åŠ¡ç›‘æŽ§">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <ListView Name="TaskProgressListView"
                                          Margin="0,0,0,12"
                                          BorderBrush="#333"
                                          BorderThickness="1"
                                          Background="#121212">
                                    <ListView.View>
                                        <GridView AllowsColumnReorder="True">
                                            <GridViewColumn Header="ç±»åž‹" DisplayMemberBinding="{Binding TaskType}" Width="80"/>
                                            <GridViewColumn Header="ä»»åŠ¡" DisplayMemberBinding="{Binding TaskName}" Width="150"/>
                                            <GridViewColumn Header="çŠ¶æ€" DisplayMemberBinding="{Binding Status}" Width="120"/>
                                            <GridViewColumn Header="è¿›åº¦" Width="160">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                            <ProgressBar Value="{Binding ProgressValue}" Minimum="0" Maximum="100" Width="110" Height="12" Margin="0,0,6,0"/>
                                                            <TextBlock Text="{Binding ProgressText}" FontFamily="Consolas" FontSize="11"/>
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="è¯´æ˜Ž" DisplayMemberBinding="{Binding Detail}" Width="240"/>
                                            <GridViewColumn Header="å¼€å§‹æ—¶é—´" DisplayMemberBinding="{Binding StartTimeText}" Width="120"/>
                                            <GridViewColumn Header="è€—æ—¶" DisplayMemberBinding="{Binding DurationText}" Width="90"/>
                                        </GridView>
                                    </ListView.View>
                                </ListView>

                                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                    <Button Name="BtnClearFinishedTasks"
                                            Content="æ¸…é™¤å·²å®Œæˆä»»åŠ¡"
                                            Width="150"
                                            Click="BtnClearFinishedTasks_Click"/>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Border>
            </Grid>
            </Grid>
            
            <!-- ==================== åº•éƒ¨çŠ¶æ€æ ï¼ˆå¢žå¼ºç‰ˆï¼‰==================== -->
            <StatusBar x:Name="BottomStatusBar"
                       Grid.Row="1"
                       Background="{DynamicResource Brush.StatusBackground}"
                       BorderBrush="{DynamicResource Brush.PanelBorder}"
                       BorderThickness="0,1,0,0"
                       Foreground="{DynamicResource Brush.StatusForeground}"
                       Height="28">
                <!-- å·¦ä¾§ï¼šå½“å‰çŠ¶æ€ä¿¡æ¯ -->
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Name="StatusIcon" 
                                   Text="âœ“" 
                                   FontSize="12" 
                                   Foreground="{DynamicResource Brush.AccentPrimary}" 
                                   Margin="10,0,5,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Name="StatusBarText" 
                                   Text="å°±ç»ª" 
                                   VerticalAlignment="Center" 
                                   FontSize="11" 
                                   Foreground="{DynamicResource Brush.StatusForeground}"/>
                    </StackPanel>
                </StatusBarItem>
                
                <Separator Margin="5,3"/>
                
                <!-- æ–‡ä»¶ç»Ÿè®¡ -->
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸ“" FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                        <TextBlock Name="StatusFileCount" 
                                   Text="æ–‡ä»¶: 0" 
                                   VerticalAlignment="Center" 
                                   FontSize="11" 
                                   Foreground="{DynamicResource Brush.StatusForeground}"/>
                    </StackPanel>
                </StatusBarItem>
                
                <Separator Margin="5,3"/>
                
                <!-- ç‰‡æ®µç»Ÿè®¡ -->
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸ“Š" FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                        <TextBlock Name="StatusSegmentCount" 
                                   Text="{Binding ClipManager.ClipCount, StringFormat='ç‰‡æ®µ: {0}'}" 
                                   VerticalAlignment="Center" 
                                   FontSize="11" 
                                   Foreground="{DynamicResource Brush.StatusForeground}"/>
                    </StackPanel>
                </StatusBarItem>
                
                <Separator Margin="5,3"/>
                
                <!-- æ€»æ—¶é•¿ -->
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="â±ï¸" FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                        <TextBlock Name="StatusDuration" 
                                   Text="æ—¶é•¿: 00:00:00" 
                                   VerticalAlignment="Center" 
                                   FontSize="11" 
                                   Foreground="{DynamicResource Brush.StatusForeground}"/>
                    </StackPanel>
                </StatusBarItem>
                
                <Separator Margin="5,3"/>
                
                <!-- å½“å‰ä»»åŠ¡ -->
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="âš™ï¸" FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                        <TextBlock Name="StatusCurrentTask" 
                                   Text="ç©ºé—²" 
                                   VerticalAlignment="Center" 
                                   FontSize="11" 
                                   Foreground="{DynamicResource Brush.StatusForeground}"/>
                    </StackPanel>
                </StatusBarItem>
                
                <!-- å³ä¾§ï¼šç³»ç»Ÿèµ„æºå’Œç‰ˆæœ¬ä¿¡æ¯ -->
                <StatusBarItem HorizontalAlignment="Right">
                    <StackPanel Orientation="Horizontal">
                        <!-- CPUä½¿ç”¨çŽ‡ -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,10,0">
                            <TextBlock Text="ðŸ’»" FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                            <TextBlock Name="StatusCPU" 
                                       Text="CPU: 0%" 
                                       VerticalAlignment="Center" 
                                       FontSize="11" 
                                       Foreground="{DynamicResource Brush.StatusForeground}"/>
                        </StackPanel>
                        
                        <Separator Margin="0,3,10,3"/>
                        
                        <!-- å†…å­˜ä½¿ç”¨ -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,10,0">
                            <TextBlock Text="ðŸ§ " FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                            <TextBlock Name="StatusMemory" 
                                       Text="å†…å­˜: 0 MB" 
                                       VerticalAlignment="Center" 
                                       FontSize="11" 
                                       Foreground="{DynamicResource Brush.StatusForeground}"/>
                        </StackPanel>
                        
                        <Separator Margin="0,3,10,3"/>
                        
                        <!-- ç£ç›˜ç©ºé—´ -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,10,0">
                            <TextBlock Text="ðŸ’¾" FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                            <TextBlock Name="StatusDiskSpace" 
                                       Text="å¯ç”¨: 0 GB" 
                                       VerticalAlignment="Center" 
                                       FontSize="11" 
                                       Foreground="{DynamicResource Brush.StatusForeground}"
                                       ToolTip="è¾“å‡ºç›®å½•å‰©ä½™ç©ºé—´"/>
                        </StackPanel>
                        
                        <Separator Margin="0,3,10,3"/>
                        
                        <!-- FFmpegç‰ˆæœ¬ -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,10,0">
                            <TextBlock Text="ðŸŽ¬" FontSize="11" Margin="0,0,3,0" VerticalAlignment="Center"/>
                            <TextBlock Name="StatusFFmpegVersion" 
                                       Text="FFmpeg: æœªæ£€æµ‹åˆ°" 
                                       VerticalAlignment="Center" 
                                       FontSize="11" 
                                       Foreground="{DynamicResource Brush.TextMuted}"
                                       ToolTip="FFmpegç‰ˆæœ¬ä¿¡æ¯"/>
                        </StackPanel>
                    </StackPanel>
                </StatusBarItem>
            </StatusBar>

        </Grid>

        <!-- Toasté€šçŸ¥å®¹å™¨ (è¦†ç›–åœ¨æ‰€æœ‰å†…å®¹ä¹‹ä¸Š,é¿å…è¢«çŠ¶æ€æ é®æŒ¡) -->
        <Grid Name="ToastContainer" 
              Panel.ZIndex="999"
              IsHitTestVisible="False"
              VerticalAlignment="Bottom"
              HorizontalAlignment="Center"
              Margin="0,0,0,80"/>
    </DockPanel>
</Window>
